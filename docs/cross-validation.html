<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Analysis Notes</title>
  <meta name="description" content="<p>These are notes associated with the course, POLS/CS&amp;SS 503: Advanced Quantitative Political Methodology at the University of Washington.</p>">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Data Analysis Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="<p>These are notes associated with the course, POLS/CS&amp;SS 503: Advanced Quantitative Political Methodology at the University of Washington.</p>" />
  <meta name="github-repo" content="jrnold/intro-methods-notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Analysis Notes" />
  
  <meta name="twitter:description" content="<p>These are notes associated with the course, POLS/CS&amp;SS 503: Advanced Quantitative Political Methodology at the University of Washington.</p>" />
  

<meta name="author" content="Jeffrey B. Arnold">


<meta name="date" content="2018-04-22">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="prediction.html">
<link rel="next" href="regularization.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro Method Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="part"><span><b>I Exploratory Data Analysis</b></span></li>
<li class="part"><span><b>II Programming</b></span></li>
<li class="part"><span><b>III Linear Regression</b></span></li>
<li class="chapter" data-level="2" data-path="regression-anatomy.html"><a href="regression-anatomy.html"><i class="fa fa-check"></i><b>2</b> Regression Anatomy</a><ul>
<li class="chapter" data-level="2.1" data-path="regression-anatomy.html"><a href="regression-anatomy.html#example"><i class="fa fa-check"></i><b>2.1</b> Example</a></li>
<li class="chapter" data-level="2.2" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section"><i class="fa fa-check"></i><b>2.2</b> </a></li>
<li class="chapter" data-level="2.3" data-path="regression-anatomy.html"><a href="regression-anatomy.html#call"><i class="fa fa-check"></i><b>2.3</b> Call:</a></li>
<li class="chapter" data-level="2.4" data-path="regression-anatomy.html"><a href="regression-anatomy.html#lmformula-prestige-education-income-data-duncan"><i class="fa fa-check"></i><b>2.4</b> lm(formula = prestige ~ education + income, data = Duncan)</a></li>
<li class="chapter" data-level="2.5" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-1"><i class="fa fa-check"></i><b>2.5</b> </a></li>
<li class="chapter" data-level="2.6" data-path="regression-anatomy.html"><a href="regression-anatomy.html#coefficients"><i class="fa fa-check"></i><b>2.6</b> Coefficients:</a></li>
<li class="chapter" data-level="2.7" data-path="regression-anatomy.html"><a href="regression-anatomy.html#intercept-education-income"><i class="fa fa-check"></i><b>2.7</b> (Intercept) education income</a></li>
<li class="chapter" data-level="2.8" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-2"><i class="fa fa-check"></i><b>2.8</b> -6.0647 0.5458 0.5987</a></li>
<li class="chapter" data-level="2.9" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-3"><i class="fa fa-check"></i><b>2.9</b> </a></li>
<li class="chapter" data-level="2.10" data-path="regression-anatomy.html"><a href="regression-anatomy.html#call-1"><i class="fa fa-check"></i><b>2.10</b> Call:</a></li>
<li class="chapter" data-level="2.11" data-path="regression-anatomy.html"><a href="regression-anatomy.html#lmformula-education-income-data-duncan"><i class="fa fa-check"></i><b>2.11</b> lm(formula = education ~ income, data = Duncan)</a></li>
<li class="chapter" data-level="2.12" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-4"><i class="fa fa-check"></i><b>2.12</b> </a></li>
<li class="chapter" data-level="2.13" data-path="regression-anatomy.html"><a href="regression-anatomy.html#coefficients-1"><i class="fa fa-check"></i><b>2.13</b> Coefficients:</a></li>
<li class="chapter" data-level="2.14" data-path="regression-anatomy.html"><a href="regression-anatomy.html#intercept-income"><i class="fa fa-check"></i><b>2.14</b> (Intercept) income</a></li>
<li class="chapter" data-level="2.15" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-5"><i class="fa fa-check"></i><b>2.15</b> 15.6114 0.8824</a></li>
<li class="chapter" data-level="2.16" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-6"><i class="fa fa-check"></i><b>2.16</b> </a></li>
<li class="chapter" data-level="2.17" data-path="regression-anatomy.html"><a href="regression-anatomy.html#call-2"><i class="fa fa-check"></i><b>2.17</b> Call:</a></li>
<li class="chapter" data-level="2.18" data-path="regression-anatomy.html"><a href="regression-anatomy.html#lmformula-prestige-resid_education-data-duncan"><i class="fa fa-check"></i><b>2.18</b> lm(formula = prestige ~ resid_education, data = Duncan)</a></li>
<li class="chapter" data-level="2.19" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-7"><i class="fa fa-check"></i><b>2.19</b> </a></li>
<li class="chapter" data-level="2.20" data-path="regression-anatomy.html"><a href="regression-anatomy.html#coefficients-2"><i class="fa fa-check"></i><b>2.20</b> Coefficients:</a></li>
<li class="chapter" data-level="2.21" data-path="regression-anatomy.html"><a href="regression-anatomy.html#intercept-resid_education"><i class="fa fa-check"></i><b>2.21</b> (Intercept) resid_education</a></li>
<li class="chapter" data-level="2.22" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-8"><i class="fa fa-check"></i><b>2.22</b> 47.6889 0.5458</a></li>
<li class="chapter" data-level="2.23" data-path="regression-anatomy.html"><a href="regression-anatomy.html#education"><i class="fa fa-check"></i><b>2.23</b> education</a></li>
<li class="chapter" data-level="2.24" data-path="regression-anatomy.html"><a href="regression-anatomy.html#e-16"><i class="fa fa-check"></i><b>2.24</b> 1.110223e-16</a></li>
<li class="chapter" data-level="2.25" data-path="regression-anatomy.html"><a href="regression-anatomy.html#variations"><i class="fa fa-check"></i><b>2.25</b> Variations</a></li>
<li class="chapter" data-level="2.26" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-9"><i class="fa fa-check"></i><b>2.26</b> </a></li>
<li class="chapter" data-level="2.27" data-path="regression-anatomy.html"><a href="regression-anatomy.html#call-3"><i class="fa fa-check"></i><b>2.27</b> Call:</a></li>
<li class="chapter" data-level="2.28" data-path="regression-anatomy.html"><a href="regression-anatomy.html#lmformula-prestige-income-data-duncan"><i class="fa fa-check"></i><b>2.28</b> lm(formula = prestige ~ income, data = Duncan)</a></li>
<li class="chapter" data-level="2.29" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-10"><i class="fa fa-check"></i><b>2.29</b> </a></li>
<li class="chapter" data-level="2.30" data-path="regression-anatomy.html"><a href="regression-anatomy.html#coefficients-3"><i class="fa fa-check"></i><b>2.30</b> Coefficients:</a></li>
<li class="chapter" data-level="2.31" data-path="regression-anatomy.html"><a href="regression-anatomy.html#intercept-income-1"><i class="fa fa-check"></i><b>2.31</b> (Intercept) income</a></li>
<li class="chapter" data-level="2.32" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-11"><i class="fa fa-check"></i><b>2.32</b> 2.457 1.080</a></li>
<li class="chapter" data-level="2.33" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-12"><i class="fa fa-check"></i><b>2.33</b> </a></li>
<li class="chapter" data-level="2.34" data-path="regression-anatomy.html"><a href="regression-anatomy.html#call-4"><i class="fa fa-check"></i><b>2.34</b> Call:</a></li>
<li class="chapter" data-level="2.35" data-path="regression-anatomy.html"><a href="regression-anatomy.html#lmformula-resid_prestige-0-resid_education-data-duncan"><i class="fa fa-check"></i><b>2.35</b> lm(formula = resid_prestige ~ 0 + resid_education, data = Duncan)</a></li>
<li class="chapter" data-level="2.36" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-13"><i class="fa fa-check"></i><b>2.36</b> </a></li>
<li class="chapter" data-level="2.37" data-path="regression-anatomy.html"><a href="regression-anatomy.html#coefficients-4"><i class="fa fa-check"></i><b>2.37</b> Coefficients:</a></li>
<li class="chapter" data-level="2.38" data-path="regression-anatomy.html"><a href="regression-anatomy.html#resid_education"><i class="fa fa-check"></i><b>2.38</b> resid_education</a></li>
<li class="chapter" data-level="2.39" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-14"><i class="fa fa-check"></i><b>2.39</b> 0.5458</a></li>
<li class="chapter" data-level="2.40" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-15"><i class="fa fa-check"></i><b>2.40</b> </a></li>
<li class="chapter" data-level="2.41" data-path="regression-anatomy.html"><a href="regression-anatomy.html#call-5"><i class="fa fa-check"></i><b>2.41</b> Call:</a></li>
<li class="chapter" data-level="2.42" data-path="regression-anatomy.html"><a href="regression-anatomy.html#lmformula-resid_prestige-resid_education-data-duncan"><i class="fa fa-check"></i><b>2.42</b> lm(formula = resid_prestige ~ resid_education, data = Duncan)</a></li>
<li class="chapter" data-level="2.43" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-16"><i class="fa fa-check"></i><b>2.43</b> </a></li>
<li class="chapter" data-level="2.44" data-path="regression-anatomy.html"><a href="regression-anatomy.html#coefficients-5"><i class="fa fa-check"></i><b>2.44</b> Coefficients:</a></li>
<li class="chapter" data-level="2.45" data-path="regression-anatomy.html"><a href="regression-anatomy.html#intercept-resid_education-1"><i class="fa fa-check"></i><b>2.45</b> (Intercept) resid_education</a></li>
<li class="chapter" data-level="2.46" data-path="regression-anatomy.html"><a href="regression-anatomy.html#e-16-5.458e-01"><i class="fa fa-check"></i><b>2.46</b> -8.904e-16 5.458e-01</a></li>
<li class="chapter" data-level="2.47" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-17"><i class="fa fa-check"></i><b>2.47</b> </a></li>
<li class="chapter" data-level="2.48" data-path="regression-anatomy.html"><a href="regression-anatomy.html#call-6"><i class="fa fa-check"></i><b>2.48</b> Call:</a></li>
<li class="chapter" data-level="2.49" data-path="regression-anatomy.html"><a href="regression-anatomy.html#lmformula-resid_prestige-education-data-duncan"><i class="fa fa-check"></i><b>2.49</b> lm(formula = resid_prestige ~ education, data = Duncan)</a></li>
<li class="chapter" data-level="2.50" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-18"><i class="fa fa-check"></i><b>2.50</b> </a></li>
<li class="chapter" data-level="2.51" data-path="regression-anatomy.html"><a href="regression-anatomy.html#coefficients-6"><i class="fa fa-check"></i><b>2.51</b> Coefficients:</a></li>
<li class="chapter" data-level="2.52" data-path="regression-anatomy.html"><a href="regression-anatomy.html#intercept-education"><i class="fa fa-check"></i><b>2.52</b> (Intercept) education</a></li>
<li class="chapter" data-level="2.53" data-path="regression-anatomy.html"><a href="regression-anatomy.html#section-19"><i class="fa fa-check"></i><b>2.53</b> -13.6285 0.2593</a></li>
<li class="chapter" data-level="2.54" data-path="regression-anatomy.html"><a href="regression-anatomy.html#questions"><i class="fa fa-check"></i><b>2.54</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html"><i class="fa fa-check"></i><b>3</b> OLS in Matrix Form</a><ul>
<li class="chapter" data-level="" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#setup"><i class="fa fa-check"></i>Setup</a></li>
<li class="chapter" data-level="3.1" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#purpose"><i class="fa fa-check"></i><b>3.1</b> Purpose</a></li>
<li class="chapter" data-level="3.2" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrix-algebra-review"><i class="fa fa-check"></i><b>3.2</b> Matrix Algebra Review</a><ul>
<li class="chapter" data-level="3.2.1" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#vectors"><i class="fa fa-check"></i><b>3.2.1</b> Vectors</a></li>
<li class="chapter" data-level="3.2.2" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrices"><i class="fa fa-check"></i><b>3.2.2</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#intercept-income-education-typeprof-typewc"><i class="fa fa-check"></i><b>3.3</b> (Intercept) income education typeprof typewc</a></li>
<li class="chapter" data-level="3.4" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#accountant-1-62-86-1-0"><i class="fa fa-check"></i><b>3.4</b> accountant 1 62 86 1 0</a></li>
<li class="chapter" data-level="3.5" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#pilot-1-72-76-1-0"><i class="fa fa-check"></i><b>3.5</b> pilot 1 72 76 1 0</a></li>
<li class="chapter" data-level="3.6" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#architect-1-75-92-1-0"><i class="fa fa-check"></i><b>3.6</b> architect 1 75 92 1 0</a></li>
<li class="chapter" data-level="3.7" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#author-1-55-90-1-0"><i class="fa fa-check"></i><b>3.7</b> author 1 55 90 1 0</a></li>
<li class="chapter" data-level="3.8" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#chemist-1-64-86-1-0"><i class="fa fa-check"></i><b>3.8</b> chemist 1 64 86 1 0</a></li>
<li class="chapter" data-level="3.9" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#minister-1-21-84-1-0"><i class="fa fa-check"></i><b>3.9</b> minister 1 21 84 1 0</a></li>
<li class="chapter" data-level="3.10" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#professor-1-64-93-1-0"><i class="fa fa-check"></i><b>3.10</b> professor 1 64 93 1 0</a></li>
<li class="chapter" data-level="3.11" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#dentist-1-80-100-1-0"><i class="fa fa-check"></i><b>3.11</b> dentist 1 80 100 1 0</a></li>
<li class="chapter" data-level="3.12" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#reporter-1-67-87-0-1"><i class="fa fa-check"></i><b>3.12</b> reporter 1 67 87 0 1</a></li>
<li class="chapter" data-level="3.13" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#engineer-1-72-86-1-0"><i class="fa fa-check"></i><b>3.13</b> engineer 1 72 86 1 0</a></li>
<li class="chapter" data-level="3.14" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#undertaker-1-42-74-1-0"><i class="fa fa-check"></i><b>3.14</b> undertaker 1 42 74 1 0</a></li>
<li class="chapter" data-level="3.15" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#lawyer-1-76-98-1-0"><i class="fa fa-check"></i><b>3.15</b> lawyer 1 76 98 1 0</a></li>
<li class="chapter" data-level="3.16" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#physician-1-76-97-1-0"><i class="fa fa-check"></i><b>3.16</b> physician 1 76 97 1 0</a></li>
<li class="chapter" data-level="3.17" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#welfare.worker-1-41-84-1-0"><i class="fa fa-check"></i><b>3.17</b> welfare.worker 1 41 84 1 0</a></li>
<li class="chapter" data-level="3.18" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#teacher-1-48-91-1-0"><i class="fa fa-check"></i><b>3.18</b> teacher 1 48 91 1 0</a></li>
<li class="chapter" data-level="3.19" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#conductor-1-76-34-0-1"><i class="fa fa-check"></i><b>3.19</b> conductor 1 76 34 0 1</a></li>
<li class="chapter" data-level="3.20" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#contractor-1-53-45-1-0"><i class="fa fa-check"></i><b>3.20</b> contractor 1 53 45 1 0</a></li>
<li class="chapter" data-level="3.21" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#factory.owner-1-60-56-1-0"><i class="fa fa-check"></i><b>3.21</b> factory.owner 1 60 56 1 0</a></li>
<li class="chapter" data-level="3.22" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#store.manager-1-42-44-1-0"><i class="fa fa-check"></i><b>3.22</b> store.manager 1 42 44 1 0</a></li>
<li class="chapter" data-level="3.23" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#banker-1-78-82-1-0"><i class="fa fa-check"></i><b>3.23</b> banker 1 78 82 1 0</a></li>
<li class="chapter" data-level="3.24" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#bookkeeper-1-29-72-0-1"><i class="fa fa-check"></i><b>3.24</b> bookkeeper 1 29 72 0 1</a></li>
<li class="chapter" data-level="3.25" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#mail.carrier-1-48-55-0-1"><i class="fa fa-check"></i><b>3.25</b> mail.carrier 1 48 55 0 1</a></li>
<li class="chapter" data-level="3.26" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#insurance.agent-1-55-71-0-1"><i class="fa fa-check"></i><b>3.26</b> insurance.agent 1 55 71 0 1</a></li>
<li class="chapter" data-level="3.27" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#store.clerk-1-29-50-0-1"><i class="fa fa-check"></i><b>3.27</b> store.clerk 1 29 50 0 1</a></li>
<li class="chapter" data-level="3.28" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#carpenter-1-21-23-0-0"><i class="fa fa-check"></i><b>3.28</b> carpenter 1 21 23 0 0</a></li>
<li class="chapter" data-level="3.29" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#electrician-1-47-39-0-0"><i class="fa fa-check"></i><b>3.29</b> electrician 1 47 39 0 0</a></li>
<li class="chapter" data-level="3.30" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#rr.engineer-1-81-28-0-0"><i class="fa fa-check"></i><b>3.30</b> RR.engineer 1 81 28 0 0</a></li>
<li class="chapter" data-level="3.31" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#machinist-1-36-32-0-0"><i class="fa fa-check"></i><b>3.31</b> machinist 1 36 32 0 0</a></li>
<li class="chapter" data-level="3.32" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#auto.repairman-1-22-22-0-0"><i class="fa fa-check"></i><b>3.32</b> auto.repairman 1 22 22 0 0</a></li>
<li class="chapter" data-level="3.33" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#plumber-1-44-25-0-0"><i class="fa fa-check"></i><b>3.33</b> plumber 1 44 25 0 0</a></li>
<li class="chapter" data-level="3.34" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#gas.stn.attendant-1-15-29-0-0"><i class="fa fa-check"></i><b>3.34</b> gas.stn.attendant 1 15 29 0 0</a></li>
<li class="chapter" data-level="3.35" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#coal.miner-1-7-7-0-0"><i class="fa fa-check"></i><b>3.35</b> coal.miner 1 7 7 0 0</a></li>
<li class="chapter" data-level="3.36" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#streetcar.motorman-1-42-26-0-0"><i class="fa fa-check"></i><b>3.36</b> streetcar.motorman 1 42 26 0 0</a></li>
<li class="chapter" data-level="3.37" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#taxi.driver-1-9-19-0-0"><i class="fa fa-check"></i><b>3.37</b> taxi.driver 1 9 19 0 0</a></li>
<li class="chapter" data-level="3.38" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#truck.driver-1-21-15-0-0"><i class="fa fa-check"></i><b>3.38</b> truck.driver 1 21 15 0 0</a></li>
<li class="chapter" data-level="3.39" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#machine.operator-1-21-20-0-0"><i class="fa fa-check"></i><b>3.39</b> machine.operator 1 21 20 0 0</a></li>
<li class="chapter" data-level="3.40" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#barber-1-16-26-0-0"><i class="fa fa-check"></i><b>3.40</b> barber 1 16 26 0 0</a></li>
<li class="chapter" data-level="3.41" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#bartender-1-16-28-0-0"><i class="fa fa-check"></i><b>3.41</b> bartender 1 16 28 0 0</a></li>
<li class="chapter" data-level="3.42" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#shoe.shiner-1-9-17-0-0"><i class="fa fa-check"></i><b>3.42</b> shoe.shiner 1 9 17 0 0</a></li>
<li class="chapter" data-level="3.43" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#cook-1-14-22-0-0"><i class="fa fa-check"></i><b>3.43</b> cook 1 14 22 0 0</a></li>
<li class="chapter" data-level="3.44" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#soda.clerk-1-12-30-0-0"><i class="fa fa-check"></i><b>3.44</b> soda.clerk 1 12 30 0 0</a></li>
<li class="chapter" data-level="3.45" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#watchman-1-17-25-0-0"><i class="fa fa-check"></i><b>3.45</b> watchman 1 17 25 0 0</a></li>
<li class="chapter" data-level="3.46" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#janitor-1-7-20-0-0"><i class="fa fa-check"></i><b>3.46</b> janitor 1 7 20 0 0</a></li>
<li class="chapter" data-level="3.47" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#policeman-1-34-47-0-0"><i class="fa fa-check"></i><b>3.47</b> policeman 1 34 47 0 0</a></li>
<li class="chapter" data-level="3.48" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#waiter-1-8-32-0-0"><i class="fa fa-check"></i><b>3.48</b> waiter 1 8 32 0 0</a></li>
<li class="chapter" data-level="3.49" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#attrassign"><i class="fa fa-check"></i><b>3.49</b> attr(,“assign”)</a></li>
<li class="chapter" data-level="3.50" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-20"><i class="fa fa-check"></i><b>3.50</b> [1] 0 1 2 3 3</a></li>
<li class="chapter" data-level="3.51" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#attrcontrasts"><i class="fa fa-check"></i><b>3.51</b> attr(,“contrasts”)</a></li>
<li class="chapter" data-level="3.52" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#attrcontraststype"><i class="fa fa-check"></i><b>3.52</b> attr(,“contrasts”)$type</a></li>
<li class="chapter" data-level="3.53" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#contr.treatment"><i class="fa fa-check"></i><b>3.53</b> [1] “contr.treatment”</a></li>
<li class="chapter" data-level="3.54" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrix-operations"><i class="fa fa-check"></i><b>3.54</b> Matrix Operations</a><ul>
<li class="chapter" data-level="3.54.1" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#transpose"><i class="fa fa-check"></i><b>3.54.1</b> Transpose</a></li>
</ul></li>
<li class="chapter" data-level="3.55" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-21"><i class="fa fa-check"></i><b>3.55</b> [,1] [,2] [,3]</a></li>
<li class="chapter" data-level="3.56" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-22"><i class="fa fa-check"></i><b>3.56</b> [1,] 1 3 5</a></li>
<li class="chapter" data-level="3.57" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-23"><i class="fa fa-check"></i><b>3.57</b> [2,] 2 4 6</a></li>
<li class="chapter" data-level="3.58" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-24"><i class="fa fa-check"></i><b>3.58</b> [,1] [,2]</a></li>
<li class="chapter" data-level="3.59" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-25"><i class="fa fa-check"></i><b>3.59</b> [1,] 1 2</a></li>
<li class="chapter" data-level="3.60" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-26"><i class="fa fa-check"></i><b>3.60</b> [2,] 3 4</a></li>
<li class="chapter" data-level="3.61" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-27"><i class="fa fa-check"></i><b>3.61</b> [3,] 5 6</a></li>
<li class="chapter" data-level="3.62" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-28"><i class="fa fa-check"></i><b>3.62</b> [,1] [,2] [,3] [,4] [,5] [,6]</a></li>
<li class="chapter" data-level="3.63" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-29"><i class="fa fa-check"></i><b>3.63</b> [1,] 1 2 3 4 5 6</a></li>
<li class="chapter" data-level="3.64" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrices-as-vectors"><i class="fa fa-check"></i><b>3.64</b> Matrices as vectors</a></li>
<li class="chapter" data-level="3.65" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#intercept-education-income-typeprof-typewc-educationincome"><i class="fa fa-check"></i><b>3.65</b> (Intercept) education income typeprof typewc education:income</a></li>
<li class="chapter" data-level="3.66" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#accountant-1-86-62-1-0-5332"><i class="fa fa-check"></i><b>3.66</b> accountant 1 86 62 1 0 5332</a></li>
<li class="chapter" data-level="3.67" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#pilot-1-76-72-1-0-5472"><i class="fa fa-check"></i><b>3.67</b> pilot 1 76 72 1 0 5472</a></li>
<li class="chapter" data-level="3.68" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#architect-1-92-75-1-0-6900"><i class="fa fa-check"></i><b>3.68</b> architect 1 92 75 1 0 6900</a></li>
<li class="chapter" data-level="3.69" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#author-1-90-55-1-0-4950"><i class="fa fa-check"></i><b>3.69</b> author 1 90 55 1 0 4950</a></li>
<li class="chapter" data-level="3.70" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#chemist-1-86-64-1-0-5504"><i class="fa fa-check"></i><b>3.70</b> chemist 1 86 64 1 0 5504</a></li>
<li class="chapter" data-level="3.71" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#minister-1-84-21-1-0-1764"><i class="fa fa-check"></i><b>3.71</b> minister 1 84 21 1 0 1764</a></li>
<li class="chapter" data-level="3.72" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#special-matrices"><i class="fa fa-check"></i><b>3.72</b> Special matrices</a></li>
<li class="chapter" data-level="3.73" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-30"><i class="fa fa-check"></i><b>3.73</b> [,1] [,2] [,3]</a></li>
<li class="chapter" data-level="3.74" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-31"><i class="fa fa-check"></i><b>3.74</b> [1,] 1 0 0</a></li>
<li class="chapter" data-level="3.75" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-32"><i class="fa fa-check"></i><b>3.75</b> [2,] 0 1 0</a></li>
<li class="chapter" data-level="3.76" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#section-33"><i class="fa fa-check"></i><b>3.76</b> [3,] 0 0 1</a></li>
<li class="chapter" data-level="3.77" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#multiple-linear-regression-in-matrix-form"><i class="fa fa-check"></i><b>3.77</b> Multiple linear regression in matrix form</a></li>
<li class="chapter" data-level="3.78" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#residuals"><i class="fa fa-check"></i><b>3.78</b> Residuals</a></li>
<li class="chapter" data-level="3.79" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#scalar-inverses"><i class="fa fa-check"></i><b>3.79</b> Scalar inverses</a></li>
<li class="chapter" data-level="3.80" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrix-inverses"><i class="fa fa-check"></i><b>3.80</b> Matrix Inverses</a></li>
<li class="chapter" data-level="3.81" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#ols-estimator"><i class="fa fa-check"></i><b>3.81</b> OLS Estimator</a></li>
<li class="chapter" data-level="3.82" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#implications-of-ols"><i class="fa fa-check"></i><b>3.82</b> Implications of OLS</a><ul>
<li class="chapter" data-level="3.82.1" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#ols-in-matrix-form-1"><i class="fa fa-check"></i><b>3.82.1</b> OLS in Matrix Form</a></li>
</ul></li>
<li class="chapter" data-level="3.83" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#ols-assumptions"><i class="fa fa-check"></i><b>3.83</b> OLS Assumptions</a></li>
<li class="chapter" data-level="3.84" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#covariancevariance-interpretation-of-ols"><i class="fa fa-check"></i><b>3.84</b> Covariance/variance interpretation of OLS</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html"><i class="fa fa-check"></i><b>4</b> Collinearity and Multicollinearity</a><ul>
<li class="chapter" data-level="4.1" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#perfect-collinearity"><i class="fa fa-check"></i><b>4.1</b> (Perfect) collinearity</a></li>
<li class="chapter" data-level="4.2" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#what-to-do-about-it"><i class="fa fa-check"></i><b>4.2</b> What to do about it?</a></li>
<li class="chapter" data-level="4.3" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#section-34"><i class="fa fa-check"></i><b>4.3</b> </a></li>
<li class="chapter" data-level="4.4" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#call-7"><i class="fa fa-check"></i><b>4.4</b> Call:</a></li>
<li class="chapter" data-level="4.5" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#lmformula-prestige-bc-wc-prof-data-duncan"><i class="fa fa-check"></i><b>4.5</b> lm(formula = prestige ~ bc + wc + prof, data = Duncan)</a></li>
<li class="chapter" data-level="4.6" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#section-35"><i class="fa fa-check"></i><b>4.6</b> </a></li>
<li class="chapter" data-level="4.7" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#coefficients-7"><i class="fa fa-check"></i><b>4.7</b> Coefficients:</a></li>
<li class="chapter" data-level="4.8" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#intercept-bctrue-wctrue-proftrue"><i class="fa fa-check"></i><b>4.8</b> (Intercept) bcTRUE wcTRUE profTRUE</a></li>
<li class="chapter" data-level="4.9" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#na"><i class="fa fa-check"></i><b>4.9</b> 80.44 -57.68 -43.78 NA</a></li>
<li class="chapter" data-level="4.10" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#multicollinearity"><i class="fa fa-check"></i><b>4.10</b> Multicollinearity</a></li>
<li class="chapter" data-level="4.11" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#what-do-do-about-it"><i class="fa fa-check"></i><b>4.11</b> What do do about it?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bootstrapping.html"><a href="bootstrapping.html"><i class="fa fa-check"></i><b>5</b> Bootstrapping</a><ul>
<li class="chapter" data-level="5.1" data-path="bootstrapping.html"><a href="bootstrapping.html#non-parametric-bootstrap"><i class="fa fa-check"></i><b>5.1</b> Non-parametric bootstrap</a></li>
<li class="chapter" data-level="5.2" data-path="bootstrapping.html"><a href="bootstrapping.html#standard-errors"><i class="fa fa-check"></i><b>5.2</b> Standard Errors</a></li>
<li class="chapter" data-level="5.3" data-path="bootstrapping.html"><a href="bootstrapping.html#confidence-intervals"><i class="fa fa-check"></i><b>5.3</b> Confidence Intervals</a></li>
<li class="chapter" data-level="5.4" data-path="bootstrapping.html"><a href="bootstrapping.html#alternative-methods"><i class="fa fa-check"></i><b>5.4</b> Alternative methods</a><ul>
<li class="chapter" data-level="5.4.1" data-path="bootstrapping.html"><a href="bootstrapping.html#parametric-bootstrap"><i class="fa fa-check"></i><b>5.4.1</b> Parametric Bootstrap</a></li>
<li class="chapter" data-level="5.4.2" data-path="bootstrapping.html"><a href="bootstrapping.html#clustered-bootstrap"><i class="fa fa-check"></i><b>5.4.2</b> Clustered bootstrap</a></li>
<li class="chapter" data-level="5.4.3" data-path="bootstrapping.html"><a href="bootstrapping.html#time-series-bootstrap"><i class="fa fa-check"></i><b>5.4.3</b> Time series bootstrap</a></li>
<li class="chapter" data-level="5.4.4" data-path="bootstrapping.html"><a href="bootstrapping.html#how-to-sample"><i class="fa fa-check"></i><b>5.4.4</b> How to sample?</a></li>
<li class="chapter" data-level="5.4.5" data-path="bootstrapping.html"><a href="bootstrapping.html#caveats"><i class="fa fa-check"></i><b>5.4.5</b> Caveats</a></li>
<li class="chapter" data-level="5.4.6" data-path="bootstrapping.html"><a href="bootstrapping.html#why-use-bootstrapping"><i class="fa fa-check"></i><b>5.4.6</b> Why use bootstrapping?</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="bootstrapping.html"><a href="bootstrapping.html#bagging"><i class="fa fa-check"></i><b>5.5</b> Bagging</a></li>
<li class="chapter" data-level="5.6" data-path="bootstrapping.html"><a href="bootstrapping.html#hypothesis-testing"><i class="fa fa-check"></i><b>5.6</b> Hypothesis Testing</a></li>
<li class="chapter" data-level="5.7" data-path="bootstrapping.html"><a href="bootstrapping.html#how-many-samples"><i class="fa fa-check"></i><b>5.7</b> How many samples?</a></li>
<li class="chapter" data-level="5.8" data-path="bootstrapping.html"><a href="bootstrapping.html#references"><i class="fa fa-check"></i><b>5.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="prediction.html"><a href="prediction.html"><i class="fa fa-check"></i><b>6</b> Prediction</a><ul>
<li class="chapter" data-level="" data-path="prediction.html"><a href="prediction.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="6.1" data-path="prediction.html"><a href="prediction.html#prediction-questions-vs.causal-questions"><i class="fa fa-check"></i><b>6.1</b> Prediction Questions vs. Causal Questions</a></li>
<li class="chapter" data-level="6.2" data-path="prediction.html"><a href="prediction.html#why-is-prediction-important"><i class="fa fa-check"></i><b>6.2</b> Why is prediction important?</a></li>
<li class="chapter" data-level="6.3" data-path="prediction.html"><a href="prediction.html#many-problems-are-prediction-problems"><i class="fa fa-check"></i><b>6.3</b> Many problems are prediction problems</a><ul>
<li class="chapter" data-level="6.3.1" data-path="prediction.html"><a href="prediction.html#counterfactuals"><i class="fa fa-check"></i><b>6.3.1</b> Counterfactuals</a></li>
<li class="chapter" data-level="6.3.2" data-path="prediction.html"><a href="prediction.html#controls"><i class="fa fa-check"></i><b>6.3.2</b> Controls</a></li>
<li class="chapter" data-level="6.3.3" data-path="prediction.html"><a href="prediction.html#what-does-overfitting-mean"><i class="fa fa-check"></i><b>6.3.3</b> What does overfitting mean</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="prediction.html"><a href="prediction.html#prediction-vs.explanation"><i class="fa fa-check"></i><b>6.4</b> Prediction vs. Explanation</a></li>
<li class="chapter" data-level="6.5" data-path="prediction.html"><a href="prediction.html#a-tibble-6-x-5"><i class="fa fa-check"></i><b>6.5</b> # A tibble: 6 x 5</a></li>
<li class="chapter" data-level="6.6" data-path="prediction.html"><a href="prediction.html#x1-x2-fx-y-y_test"><i class="fa fa-check"></i><b>6.6</b> X1 X2 fx y y_test</a></li>
<li class="chapter" data-level="6.7" data-path="prediction.html"><a href="prediction.html#section-36"><i class="fa fa-check"></i><b>6.7</b> <dbl> <dbl> <dbl> <dbl> <dbl></a></li>
<li class="chapter" data-level="6.8" data-path="prediction.html"><a href="prediction.html#section-37"><i class="fa fa-check"></i><b>6.8</b> 1 -0.616 0.721 0.105 -2.19 -0.0293</a></li>
<li class="chapter" data-level="6.9" data-path="prediction.html"><a href="prediction.html#section-38"><i class="fa fa-check"></i><b>6.9</b> 2 -0.728 -1.12 -1.85 -1.84 -2.07</a></li>
<li class="chapter" data-level="6.10" data-path="prediction.html"><a href="prediction.html#section-39"><i class="fa fa-check"></i><b>6.10</b> 3 1.05 0.793 1.85 0.809 -0.250</a></li>
<li class="chapter" data-level="6.11" data-path="prediction.html"><a href="prediction.html#section-40"><i class="fa fa-check"></i><b>6.11</b> 4 0.501 -0.931 -0.429 -0.203 -0.947</a></li>
<li class="chapter" data-level="6.12" data-path="prediction.html"><a href="prediction.html#section-41"><i class="fa fa-check"></i><b>6.12</b> 5 0.944 -0.152 0.792 1.46 1.39</a></li>
<li class="chapter" data-level="6.13" data-path="prediction.html"><a href="prediction.html#section-42"><i class="fa fa-check"></i><b>6.13</b> 6 -0.509 -0.290 -0.799 0.362 -0.664</a></li>
<li class="chapter" data-level="6.14" data-path="prediction.html"><a href="prediction.html#a-tibble-1-x-3"><i class="fa fa-check"></i><b>6.14</b> # A tibble: 1 x 3</a></li>
<li class="chapter" data-level="6.15" data-path="prediction.html"><a href="prediction.html#r_squared-mse_in-mse_out"><i class="fa fa-check"></i><b>6.15</b> r_squared mse_in mse_out</a></li>
<li class="chapter" data-level="6.16" data-path="prediction.html"><a href="prediction.html#section-43"><i class="fa fa-check"></i><b>6.16</b> <dbl> <dbl> <dbl></a></li>
<li class="chapter" data-level="6.17" data-path="prediction.html"><a href="prediction.html#section-44"><i class="fa fa-check"></i><b>6.17</b> 1 0.0446 85.0 65.2</a></li>
<li class="chapter" data-level="6.18" data-path="prediction.html"><a href="prediction.html#a-tibble-1-x-3-1"><i class="fa fa-check"></i><b>6.18</b> # A tibble: 1 x 3</a></li>
<li class="chapter" data-level="6.19" data-path="prediction.html"><a href="prediction.html#r_squared-mse_in-mse_out-1"><i class="fa fa-check"></i><b>6.19</b> r_squared mse_in mse_out</a></li>
<li class="chapter" data-level="6.20" data-path="prediction.html"><a href="prediction.html#section-45"><i class="fa fa-check"></i><b>6.20</b> <dbl> <dbl> <dbl></a></li>
<li class="chapter" data-level="6.21" data-path="prediction.html"><a href="prediction.html#section-46"><i class="fa fa-check"></i><b>6.21</b> 1 0.0490 84.6 64.6</a></li>
<li class="chapter" data-level="6.22" data-path="prediction.html"><a href="prediction.html#a-tibble-2-x-4"><i class="fa fa-check"></i><b>6.22</b> # A tibble: 2 x 4</a></li>
<li class="chapter" data-level="6.23" data-path="prediction.html"><a href="prediction.html#model-r_squared-mse_in-mse_out"><i class="fa fa-check"></i><b>6.23</b> model r_squared mse_in mse_out</a></li>
<li class="chapter" data-level="6.24" data-path="prediction.html"><a href="prediction.html#section-47"><i class="fa fa-check"></i><b>6.24</b> <chr> <dbl> <dbl> <dbl></a></li>
<li class="chapter" data-level="6.25" data-path="prediction.html"><a href="prediction.html#true-0.0637-78.4-83.7"><i class="fa fa-check"></i><b>6.25</b> 1 true 0.0637 78.4 83.7</a></li>
<li class="chapter" data-level="6.26" data-path="prediction.html"><a href="prediction.html#underspecified-0.0511-79.4-82.9"><i class="fa fa-check"></i><b>6.26</b> 2 underspecified 0.0511 79.4 82.9</a></li>
<li class="chapter" data-level="6.27" data-path="prediction.html"><a href="prediction.html#bias-variance-tradeoff"><i class="fa fa-check"></i><b>6.27</b> Bias-Variance Tradeoff</a><ul>
<li class="chapter" data-level="6.27.1" data-path="prediction.html"><a href="prediction.html#example-1"><i class="fa fa-check"></i><b>6.27.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.28" data-path="prediction.html"><a href="prediction.html#x-fx-y-test-.fitted-degree"><i class="fa fa-check"></i><b>6.28</b> x fx y test .fitted degree</a></li>
<li class="chapter" data-level="6.29" data-path="prediction.html"><a href="prediction.html#true--0.225623535-2"><i class="fa fa-check"></i><b>6.29</b> 1 0.00000000 0.0000000000 0.89041816 TRUE -0.225623535 2</a></li>
<li class="chapter" data-level="6.30" data-path="prediction.html"><a href="prediction.html#true--0.215626796-2"><i class="fa fa-check"></i><b>6.30</b> 2 0.01010101 0.0001020304 0.29205861 TRUE -0.215626796 2</a></li>
<li class="chapter" data-level="6.31" data-path="prediction.html"><a href="prediction.html#true--0.205634048-2"><i class="fa fa-check"></i><b>6.31</b> 3 0.02020202 0.0004081216 0.44925488 TRUE -0.205634048 2</a></li>
<li class="chapter" data-level="6.32" data-path="prediction.html"><a href="prediction.html#true--0.165702965-2"><i class="fa fa-check"></i><b>6.32</b> 4 0.06060606 0.0036730946 -0.03221284 TRUE -0.165702965 2</a></li>
<li class="chapter" data-level="6.33" data-path="prediction.html"><a href="prediction.html#true--0.155730172-2"><i class="fa fa-check"></i><b>6.33</b> 5 0.07070707 0.0049994898 0.15205437 TRUE -0.155730172 2</a></li>
<li class="chapter" data-level="6.34" data-path="prediction.html"><a href="prediction.html#true--0.145761370-2"><i class="fa fa-check"></i><b>6.34</b> 6 0.08080808 0.0065299459 0.40707455 TRUE -0.145761370 2</a></li>
<li class="chapter" data-level="6.35" data-path="prediction.html"><a href="prediction.html#true--0.135796558-2"><i class="fa fa-check"></i><b>6.35</b> 7 0.09090909 0.0082644628 -0.30919290 TRUE -0.135796558 2</a></li>
<li class="chapter" data-level="6.36" data-path="prediction.html"><a href="prediction.html#true--0.125835737-2"><i class="fa fa-check"></i><b>6.36</b> 8 0.10101010 0.0102030405 -0.65388315 TRUE -0.125835737 2</a></li>
<li class="chapter" data-level="6.37" data-path="prediction.html"><a href="prediction.html#true--0.115878908-2"><i class="fa fa-check"></i><b>6.37</b> 9 0.11111111 0.0123456790 1.93214526 TRUE -0.115878908 2</a></li>
<li class="chapter" data-level="6.38" data-path="prediction.html"><a href="prediction.html#true--0.086032364-2"><i class="fa fa-check"></i><b>6.38</b> 10 0.14141414 0.0199979594 -0.43103603 TRUE -0.086032364 2</a></li>
<li class="chapter" data-level="6.39" data-path="prediction.html"><a href="prediction.html#true--0.076091499-2"><i class="fa fa-check"></i><b>6.39</b> 11 0.15151515 0.0229568411 -0.85837114 TRUE -0.076091499 2</a></li>
<li class="chapter" data-level="6.40" data-path="prediction.html"><a href="prediction.html#true--0.046292847-2"><i class="fa fa-check"></i><b>6.40</b> 12 0.18181818 0.0330578512 -0.42607043 TRUE -0.046292847 2</a></li>
<li class="chapter" data-level="6.41" data-path="prediction.html"><a href="prediction.html#true-0.003291755-2"><i class="fa fa-check"></i><b>6.41</b> 13 0.23232323 0.0539740843 2.12900106 TRUE 0.003291755 2</a></li>
<li class="chapter" data-level="6.42" data-path="prediction.html"><a href="prediction.html#true-0.032994624-2"><i class="fa fa-check"></i><b>6.42</b> 14 0.26262626 0.0689725538 0.83605063 TRUE 0.032994624 2</a></li>
<li class="chapter" data-level="6.43" data-path="prediction.html"><a href="prediction.html#true-0.062661575-2"><i class="fa fa-check"></i><b>6.43</b> 15 0.29292929 0.0858075707 -0.54569890 TRUE 0.062661575 2</a></li>
<li class="chapter" data-level="6.44" data-path="prediction.html"><a href="prediction.html#true-0.072542577-2"><i class="fa fa-check"></i><b>6.44</b> 16 0.30303030 0.0918273646 1.90519280 TRUE 0.072542577 2</a></li>
<li class="chapter" data-level="6.45" data-path="prediction.html"><a href="prediction.html#true-0.082419588-2"><i class="fa fa-check"></i><b>6.45</b> 17 0.31313131 0.0980512193 -1.15360371 TRUE 0.082419588 2</a></li>
<li class="chapter" data-level="6.46" data-path="prediction.html"><a href="prediction.html#true-0.102161637-2"><i class="fa fa-check"></i><b>6.46</b> 18 0.33333333 0.1111111111 -0.50180729 TRUE 0.102161637 2</a></li>
<li class="chapter" data-level="6.47" data-path="prediction.html"><a href="prediction.html#true-0.112026675-2"><i class="fa fa-check"></i><b>6.47</b> 19 0.34343434 0.1179471483 0.38956259 TRUE 0.112026675 2</a></li>
<li class="chapter" data-level="6.48" data-path="prediction.html"><a href="prediction.html#true-0.141597844-2"><i class="fa fa-check"></i><b>6.48</b> 20 0.37373737 0.1396796245 -1.42193217 TRUE 0.141597844 2</a></li>
<li class="chapter" data-level="6.49" data-path="prediction.html"><a href="prediction.html#true-0.190803306-2"><i class="fa fa-check"></i><b>6.49</b> 21 0.42424242 0.1799816345 0.38510327 TRUE 0.190803306 2</a></li>
<li class="chapter" data-level="6.50" data-path="prediction.html"><a href="prediction.html#true-0.259523334-2"><i class="fa fa-check"></i><b>6.50</b> 22 0.49494949 0.2449750026 0.42090271 TRUE 0.259523334 2</a></li>
<li class="chapter" data-level="6.51" data-path="prediction.html"><a href="prediction.html#true-0.298704120-2"><i class="fa fa-check"></i><b>6.51</b> 23 0.53535354 0.2866034078 0.36153111 TRUE 0.298704120 2</a></li>
<li class="chapter" data-level="6.52" data-path="prediction.html"><a href="prediction.html#true-0.318270568-2"><i class="fa fa-check"></i><b>6.52</b> 24 0.55555556 0.3086419753 1.56795728 TRUE 0.318270568 2</a></li>
<li class="chapter" data-level="6.53" data-path="prediction.html"><a href="prediction.html#true-0.396376722-2"><i class="fa fa-check"></i><b>6.53</b> 25 0.63636364 0.4049586777 1.32440427 TRUE 0.396376722 2</a></li>
<li class="chapter" data-level="6.54" data-path="prediction.html"><a href="prediction.html#true-0.406122031-2"><i class="fa fa-check"></i><b>6.54</b> 26 0.64646465 0.4179165391 1.08913606 TRUE 0.406122031 2</a></li>
<li class="chapter" data-level="6.55" data-path="prediction.html"><a href="prediction.html#true-0.435334016-2"><i class="fa fa-check"></i><b>6.55</b> 27 0.67676768 0.4580144883 2.19561530 TRUE 0.435334016 2</a></li>
<li class="chapter" data-level="6.56" data-path="prediction.html"><a href="prediction.html#true-0.445063362-2"><i class="fa fa-check"></i><b>6.56</b> 28 0.68686869 0.4717885930 0.36778411 TRUE 0.445063362 2</a></li>
<li class="chapter" data-level="6.57" data-path="prediction.html"><a href="prediction.html#true-0.474227455-2"><i class="fa fa-check"></i><b>6.57</b> 29 0.71717172 0.5143352719 -0.31989160 TRUE 0.474227455 2</a></li>
<li class="chapter" data-level="6.58" data-path="prediction.html"><a href="prediction.html#true-0.483940837-2"><i class="fa fa-check"></i><b>6.58</b> 30 0.72727273 0.5289256198 -0.37991742 TRUE 0.483940837 2</a></li>
<li class="chapter" data-level="6.59" data-path="prediction.html"><a href="prediction.html#true-0.513057039-2"><i class="fa fa-check"></i><b>6.59</b> 31 0.75757576 0.5739210285 1.14267823 TRUE 0.513057039 2</a></li>
<li class="chapter" data-level="6.60" data-path="prediction.html"><a href="prediction.html#true-0.522754458-2"><i class="fa fa-check"></i><b>6.60</b> 32 0.76767677 0.5893276196 -0.24018247 TRUE 0.522754458 2</a></li>
<li class="chapter" data-level="6.61" data-path="prediction.html"><a href="prediction.html#true-0.542137322-2"><i class="fa fa-check"></i><b>6.61</b> 33 0.78787879 0.6207529844 1.04576276 TRUE 0.542137322 2</a></li>
<li class="chapter" data-level="6.62" data-path="prediction.html"><a href="prediction.html#true-0.551822768-2"><i class="fa fa-check"></i><b>6.62</b> 34 0.79797980 0.6367717580 1.64778212 TRUE 0.551822768 2</a></li>
<li class="chapter" data-level="6.63" data-path="prediction.html"><a href="prediction.html#true-0.561504223-2"><i class="fa fa-check"></i><b>6.63</b> 35 0.80808081 0.6529945924 2.00215625 TRUE 0.561504223 2</a></li>
<li class="chapter" data-level="6.64" data-path="prediction.html"><a href="prediction.html#true-0.571181687-2"><i class="fa fa-check"></i><b>6.64</b> 36 0.81818182 0.6694214876 1.18357836 TRUE 0.571181687 2</a></li>
<li class="chapter" data-level="6.65" data-path="prediction.html"><a href="prediction.html#true-0.580855160-2"><i class="fa fa-check"></i><b>6.65</b> 37 0.82828283 0.6860524436 1.23946467 TRUE 0.580855160 2</a></li>
<li class="chapter" data-level="6.66" data-path="prediction.html"><a href="prediction.html#true-0.590524642-2"><i class="fa fa-check"></i><b>6.66</b> 38 0.83838384 0.7028874605 2.63472582 TRUE 0.590524642 2</a></li>
<li class="chapter" data-level="6.67" data-path="prediction.html"><a href="prediction.html#true-0.600190134-2"><i class="fa fa-check"></i><b>6.67</b> 39 0.84848485 0.7199265381 1.23562945 TRUE 0.600190134 2</a></li>
<li class="chapter" data-level="6.68" data-path="prediction.html"><a href="prediction.html#true-0.619509143-2"><i class="fa fa-check"></i><b>6.68</b> 40 0.86868687 0.7546168758 0.02923681 TRUE 0.619509143 2</a></li>
<li class="chapter" data-level="6.69" data-path="prediction.html"><a href="prediction.html#true-0.629162662-2"><i class="fa fa-check"></i><b>6.69</b> 41 0.87878788 0.7722681359 0.68094578 TRUE 0.629162662 2</a></li>
<li class="chapter" data-level="6.70" data-path="prediction.html"><a href="prediction.html#true-0.638812189-2"><i class="fa fa-check"></i><b>6.70</b> 42 0.88888889 0.7901234568 -0.05673413 TRUE 0.638812189 2</a></li>
<li class="chapter" data-level="6.71" data-path="prediction.html"><a href="prediction.html#true-0.658099271-2"><i class="fa fa-check"></i><b>6.71</b> 43 0.90909091 0.8264462810 -0.46999024 TRUE 0.658099271 2</a></li>
<li class="chapter" data-level="6.72" data-path="prediction.html"><a href="prediction.html#true-0.696625544-2"><i class="fa fa-check"></i><b>6.72</b> 44 0.94949495 0.9015406591 0.09575092 TRUE 0.696625544 2</a></li>
<li class="chapter" data-level="6.73" data-path="prediction.html"><a href="prediction.html#true-0.706247135-2"><i class="fa fa-check"></i><b>6.73</b> 45 0.95959596 0.9208244057 -0.64757995 TRUE 0.706247135 2</a></li>
<li class="chapter" data-level="6.74" data-path="prediction.html"><a href="prediction.html#true-0.715864735-2"><i class="fa fa-check"></i><b>6.74</b> 46 0.96969697 0.9403122130 -0.55067372 TRUE 0.715864735 2</a></li>
<li class="chapter" data-level="6.75" data-path="prediction.html"><a href="prediction.html#true-0.735087962-2"><i class="fa fa-check"></i><b>6.75</b> 47 0.98989899 0.9799000102 0.01762342 TRUE 0.735087962 2</a><ul>
<li class="chapter" data-level="6.75.1" data-path="prediction.html"><a href="prediction.html#overview"><i class="fa fa-check"></i><b>6.75.1</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="6.76" data-path="prediction.html"><a href="prediction.html#prediction-policy-problems"><i class="fa fa-check"></i><b>6.76</b> Prediction policy problems</a></li>
<li class="chapter" data-level="6.77" data-path="prediction.html"><a href="prediction.html#freedmans-paradox"><i class="fa fa-check"></i><b>6.77</b> Freedman’s Paradox</a></li>
<li class="chapter" data-level="6.78" data-path="prediction.html"><a href="prediction.html#r.squared-adj.r.squared-sigma-statistic-p.value-df-loglik"><i class="fa fa-check"></i><b>6.78</b> r.squared adj.r.squared sigma statistic p.value df logLik</a></li>
<li class="chapter" data-level="6.79" data-path="prediction.html"><a href="prediction.html#section-48"><i class="fa fa-check"></i><b>6.79</b> 1 0.5226419 0.03554183 0.9399749 1.072966 0.4030449 51 -100.0361</a></li>
<li class="chapter" data-level="6.80" data-path="prediction.html"><a href="prediction.html#aic-bic-deviance-df.residual"><i class="fa fa-check"></i><b>6.80</b> AIC BIC deviance df.residual</a></li>
<li class="chapter" data-level="6.81" data-path="prediction.html"><a href="prediction.html#section-49"><i class="fa fa-check"></i><b>6.81</b> 1 304.0723 439.5411 43.29408 49</a></li>
<li class="chapter" data-level="6.82" data-path="prediction.html"><a href="prediction.html#r.squared-adj.r.squared-sigma-statistic-p.value-df-loglik-1"><i class="fa fa-check"></i><b>6.82</b> r.squared adj.r.squared sigma statistic p.value df logLik</a></li>
<li class="chapter" data-level="6.83" data-path="prediction.html"><a href="prediction.html#section-50"><i class="fa fa-check"></i><b>6.83</b> 1 0.345111 0.2372469 0.8359235 3.199499 0.0004524023 15 -115.8461</a></li>
<li class="chapter" data-level="6.84" data-path="prediction.html"><a href="prediction.html#aic-bic-deviance-df.residual-1"><i class="fa fa-check"></i><b>6.84</b> AIC BIC deviance df.residual</a></li>
<li class="chapter" data-level="6.85" data-path="prediction.html"><a href="prediction.html#section-51"><i class="fa fa-check"></i><b>6.85</b> 1 263.6922 305.3749 59.39529 85</a></li>
<li class="chapter" data-level="6.86" data-path="prediction.html"><a href="prediction.html#term-estimate-std.error-statistic-p.value"><i class="fa fa-check"></i><b>6.86</b> term estimate std.error statistic p.value</a></li>
<li class="chapter" data-level="6.87" data-path="prediction.html"><a href="prediction.html#x12-0.2158668-0.09190330-2.348847-0.021151842"><i class="fa fa-check"></i><b>6.87</b> 1 X12 0.2158668 0.09190330 2.348847 0.021151842</a></li>
<li class="chapter" data-level="6.88" data-path="prediction.html"><a href="prediction.html#x26-0.2019689-0.07809128-2.586319-0.011403262"><i class="fa fa-check"></i><b>6.88</b> 2 X26 0.2019689 0.07809128 2.586319 0.011403262</a></li>
<li class="chapter" data-level="6.89" data-path="prediction.html"><a href="prediction.html#x32--0.2355425-0.10594258--2.223303-0.028848346"><i class="fa fa-check"></i><b>6.89</b> 3 X32 -0.2355425 0.10594258 -2.223303 0.028848346</a></li>
<li class="chapter" data-level="6.90" data-path="prediction.html"><a href="prediction.html#x37-0.2500680-0.07847999-3.186392-0.002015543"><i class="fa fa-check"></i><b>6.90</b> 4 X37 0.2500680 0.07847999 3.186392 0.002015543</a></li>
<li class="chapter" data-level="6.91" data-path="prediction.html"><a href="prediction.html#x44-0.2731154-0.10791647-2.530803-0.013222239"><i class="fa fa-check"></i><b>6.91</b> 5 X44 0.2731154 0.10791647 2.530803 0.013222239</a></li>
<li class="chapter" data-level="6.92" data-path="prediction.html"><a href="prediction.html#x48-0.1704152-0.08536335-1.996351-0.049096476"><i class="fa fa-check"></i><b>6.92</b> 6 X48 0.1704152 0.08536335 1.996351 0.049096476</a><ul>
<li class="chapter" data-level="6.92.1" data-path="prediction.html"><a href="prediction.html#references-1"><i class="fa fa-check"></i><b>6.92.1</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="cross-validation.html"><a href="cross-validation.html"><i class="fa fa-check"></i><b>7</b> Cross-Validation</a><ul>
<li class="chapter" data-level="" data-path="cross-validation.html"><a href="cross-validation.html#prerequisites-1"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="7.1" data-path="cross-validation.html"><a href="cross-validation.html#example-predicting-bordeaux-wine"><i class="fa fa-check"></i><b>7.1</b> Example: Predicting Bordeaux Wine</a></li>
<li class="chapter" data-level="7.2" data-path="cross-validation.html"><a href="cross-validation.html#cross-validation-1"><i class="fa fa-check"></i><b>7.2</b> Cross Validation</a></li>
<li class="chapter" data-level="7.3" data-path="cross-validation.html"><a href="cross-validation.html#out-of-sample-error"><i class="fa fa-check"></i><b>7.3</b> Out-of-Sample Error</a><ul>
<li class="chapter" data-level="7.3.1" data-path="cross-validation.html"><a href="cross-validation.html#held-out-data"><i class="fa fa-check"></i><b>7.3.1</b> Held-out data</a></li>
<li class="chapter" data-level="7.3.2" data-path="cross-validation.html"><a href="cross-validation.html#k-fold-cross-validation"><i class="fa fa-check"></i><b>7.3.2</b> <span class="math inline">\(k\)</span>-fold Cross-validation</a></li>
<li class="chapter" data-level="7.3.3" data-path="cross-validation.html"><a href="cross-validation.html#leave-one-out-cross-validation"><i class="fa fa-check"></i><b>7.3.3</b> Leave-one-Out Cross-Validation</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="cross-validation.html"><a href="cross-validation.html#approximations"><i class="fa fa-check"></i><b>7.4</b> Approximations</a></li>
<li class="chapter" data-level="7.5" data-path="cross-validation.html"><a href="cross-validation.html#references-2"><i class="fa fa-check"></i><b>7.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="regularization.html"><a href="regularization.html"><i class="fa fa-check"></i><b>8</b> Regularization</a><ul>
<li class="chapter" data-level="8.1" data-path="regularization.html"><a href="regularization.html#ridge-regression"><i class="fa fa-check"></i><b>8.1</b> Ridge Regression</a></li>
<li class="chapter" data-level="8.2" data-path="regularization.html"><a href="regularization.html#regularization-for-causal-inference"><i class="fa fa-check"></i><b>8.2</b> Regularization for Causal Inference</a></li>
<li class="chapter" data-level="8.3" data-path="regularization.html"><a href="regularization.html#references-3"><i class="fa fa-check"></i><b>8.3</b> References</a></li>
</ul></li>
<li class="part"><span><b>IV Presentation</b></span></li>
<li class="chapter" data-level="9" data-path="formatting-tables.html"><a href="formatting-tables.html"><i class="fa fa-check"></i><b>9</b> Formatting Tables</a><ul>
<li class="chapter" data-level="9.1" data-path="formatting-tables.html"><a href="formatting-tables.html#overview-of-packages"><i class="fa fa-check"></i><b>9.1</b> Overview of Packages</a></li>
<li class="chapter" data-level="9.2" data-path="formatting-tables.html"><a href="formatting-tables.html#summary-statistic-table-example"><i class="fa fa-check"></i><b>9.2</b> Summary Statistic Table Example</a></li>
<li class="chapter" data-level="9.3" data-path="formatting-tables.html"><a href="formatting-tables.html#a-tibble-4-x-7"><i class="fa fa-check"></i><b>9.3</b> # A tibble: 4 x 7</a></li>
<li class="chapter" data-level="9.4" data-path="formatting-tables.html"><a href="formatting-tables.html#variable-n-mean-std.-dev.-median-min.-max."><i class="fa fa-check"></i><b>9.4</b> variable n Mean <code>Std. Dev.</code> Median Min. Max.</a></li>
<li class="chapter" data-level="9.5" data-path="formatting-tables.html"><a href="formatting-tables.html#section-52"><i class="fa fa-check"></i><b>9.5</b> <chr> <int> <dbl> <dbl> <dbl> <dbl> <dbl></a></li>
<li class="chapter" data-level="9.6" data-path="formatting-tables.html"><a href="formatting-tables.html#gdppercap-1704-7215.-9857.-3532.-241.-113523."><i class="fa fa-check"></i><b>9.6</b> 1 gdpPercap 1704 7215. 9857. 3532. 241. 113523.</a></li>
<li class="chapter" data-level="9.7" data-path="formatting-tables.html"><a href="formatting-tables.html#lifeexp-1704-59.5-12.9-60.7-23.6-82.6"><i class="fa fa-check"></i><b>9.7</b> 2 lifeExp 1704 59.5 12.9 60.7 23.6 82.6</a></li>
<li class="chapter" data-level="9.8" data-path="formatting-tables.html"><a href="formatting-tables.html#pop-1704-29601212.-106157897.-7023596.-60011.-1318683096."><i class="fa fa-check"></i><b>9.8</b> 3 pop 1704 29601212. 106157897. 7023596. 60011. 1318683096.</a></li>
<li class="chapter" data-level="9.9" data-path="formatting-tables.html"><a href="formatting-tables.html#year-1704-1980.-17.3-1980.-1952.-2007."><i class="fa fa-check"></i><b>9.9</b> 4 year 1704 1980. 17.3 1980. 1952. 2007.</a></li>
<li class="chapter" data-level="9.10" data-path="formatting-tables.html"><a href="formatting-tables.html#regression-table-example"><i class="fa fa-check"></i><b>9.10</b> Regression Table Example</a></li>
<li class="chapter" data-level="9.11" data-path="formatting-tables.html"><a href="formatting-tables.html#section-53"><i class="fa fa-check"></i><b>9.11</b> [[1]]</a></li>
<li class="chapter" data-level="9.12" data-path="formatting-tables.html"><a href="formatting-tables.html#lm"><i class="fa fa-check"></i><b>9.12</b> [1] “lm”</a></li>
<li class="chapter" data-level="9.13" data-path="formatting-tables.html"><a href="formatting-tables.html#section-54"><i class="fa fa-check"></i><b>9.13</b> </a></li>
<li class="chapter" data-level="9.14" data-path="formatting-tables.html"><a href="formatting-tables.html#section-55"><i class="fa fa-check"></i><b>9.14</b> [[2]]</a></li>
<li class="chapter" data-level="9.15" data-path="formatting-tables.html"><a href="formatting-tables.html#lm-1"><i class="fa fa-check"></i><b>9.15</b> [1] “lm”</a></li>
<li class="chapter" data-level="9.16" data-path="formatting-tables.html"><a href="formatting-tables.html#section-56"><i class="fa fa-check"></i><b>9.16</b> </a></li>
<li class="chapter" data-level="9.17" data-path="formatting-tables.html"><a href="formatting-tables.html#section-57"><i class="fa fa-check"></i><b>9.17</b> [[3]]</a></li>
<li class="chapter" data-level="9.18" data-path="formatting-tables.html"><a href="formatting-tables.html#lm-2"><i class="fa fa-check"></i><b>9.18</b> [1] “lm”</a></li>
<li class="chapter" data-level="9.19" data-path="formatting-tables.html"><a href="formatting-tables.html#section-58"><i class="fa fa-check"></i><b>9.19</b> </a></li>
<li class="chapter" data-level="9.20" data-path="formatting-tables.html"><a href="formatting-tables.html#section-59"><i class="fa fa-check"></i><b>9.20</b> [[4]]</a></li>
<li class="chapter" data-level="9.21" data-path="formatting-tables.html"><a href="formatting-tables.html#lm-3"><i class="fa fa-check"></i><b>9.21</b> [1] “lm”</a></li>
<li class="chapter" data-level="9.22" data-path="formatting-tables.html"><a href="formatting-tables.html#section-60"><i class="fa fa-check"></i><b>9.22</b> </a></li>
<li class="chapter" data-level="9.23" data-path="formatting-tables.html"><a href="formatting-tables.html#call-8"><i class="fa fa-check"></i><b>9.23</b> Call:</a></li>
<li class="chapter" data-level="9.24" data-path="formatting-tables.html"><a href="formatting-tables.html#lmformula-.x-data-duncan-model-false"><i class="fa fa-check"></i><b>9.24</b> lm(formula = .x, data = Duncan, model = FALSE)</a></li>
<li class="chapter" data-level="9.25" data-path="formatting-tables.html"><a href="formatting-tables.html#section-61"><i class="fa fa-check"></i><b>9.25</b> </a></li>
<li class="chapter" data-level="9.26" data-path="formatting-tables.html"><a href="formatting-tables.html#coefficients-8"><i class="fa fa-check"></i><b>9.26</b> Coefficients:</a></li>
<li class="chapter" data-level="9.27" data-path="formatting-tables.html"><a href="formatting-tables.html#intercept-typeprof-typewc"><i class="fa fa-check"></i><b>9.27</b> (Intercept) typeprof typewc</a></li>
<li class="chapter" data-level="9.28" data-path="formatting-tables.html"><a href="formatting-tables.html#section-62"><i class="fa fa-check"></i><b>9.28</b> 22.76 57.68 13.90</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="reproducible-research.html"><a href="reproducible-research.html"><i class="fa fa-check"></i><b>10</b> Reproducible Research</a></li>
<li class="chapter" data-level="11" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html"><i class="fa fa-check"></i><b>11</b> Typesetting and Word Processing Programs</a><ul>
<li class="chapter" data-level="11.1" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#latex"><i class="fa fa-check"></i><b>11.1</b> LaTeX</a><ul>
<li class="chapter" data-level="11.1.1" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#learning-latex"><i class="fa fa-check"></i><b>11.1.1</b> Learning LaTeX</a></li>
<li class="chapter" data-level="11.1.2" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#using-latex"><i class="fa fa-check"></i><b>11.1.2</b> Using LaTeX</a></li>
<li class="chapter" data-level="11.1.3" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#latex-with-r"><i class="fa fa-check"></i><b>11.1.3</b> LaTeX with R</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#word"><i class="fa fa-check"></i><b>11.2</b> Word</a><ul>
<li class="chapter" data-level="11.2.1" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#general-advice"><i class="fa fa-check"></i><b>11.2.1</b> General Advice</a></li>
<li class="chapter" data-level="11.2.2" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#using-r-with-word"><i class="fa fa-check"></i><b>11.2.2</b> Using R with Word</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="writing-resources.html"><a href="writing-resources.html"><i class="fa fa-check"></i><b>12</b> Writing Resources</a><ul>
<li class="chapter" data-level="12.1" data-path="writing-resources.html"><a href="writing-resources.html#writing-and-organizing-papers"><i class="fa fa-check"></i><b>12.1</b> Writing and Organizing Papers</a></li>
<li class="chapter" data-level="12.2" data-path="writing-resources.html"><a href="writing-resources.html#finding-research-ideas"><i class="fa fa-check"></i><b>12.2</b> Finding Research Ideas</a></li>
<li class="chapter" data-level="12.3" data-path="writing-resources.html"><a href="writing-resources.html#replications"><i class="fa fa-check"></i><b>12.3</b> Replications</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="" data-path="references-4.html"><a href="references-4.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
\[
\DeclareMathOperator{\E}{E}
\DeclareMathOperator{\mean}{mean}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\Cor}{Cor}
\DeclareMathOperator{\Bias}{Bias}
\DeclareMathOperator{\MSE}{MSE}
\DeclareMathOperator{\RMSE}{RMSE}
\DeclareMathOperator{\sd}{sd}
\DeclareMathOperator{\se}{se}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

\newcommand{\Mat}[1]{\boldsymbol{#1}}
\newcommand{\Vec}[1]{\boldsymbol{#1}}
\newcommand{\T}{'}

\newcommand{\distr}[1]{\mathcal{#1}}
\newcommand{\dnorm}{\distr{N}}
\newcommand{\dmvnorm}[1]{\distr{N}_{#1}}
\newcommand{\dt}[1]{\distr{T}_{#1}}

\newcommand{\cia}{\perp\!\!\!\perp}
\DeclareMathOperator*{\plim}{plim}
\]
<div id="cross-validation" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Cross-Validation</h1>
<div id="prerequisites-1" class="section level2 unnumbered">
<h2>Prerequisites</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;broom&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;modelr&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;purrr&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;stringr&quot;</span>)</code></pre></div>
</div>
<div id="example-predicting-bordeaux-wine" class="section level2">
<h2><span class="header-section-number">7.1</span> Example: Predicting Bordeaux Wine</h2>
<p>The <code>bordeaux</code> dataset contains the prices of vintages of Bordeaux wines sold at auction in New York, as well as the the weather and rainfall for the years of the wine. AshenfelterAshemoreLalonde1995a uses this data was used to show that the quality of a wine vintage, as measured by its price, can largely be predicted by a small number of variables. At the time, these prediction were not taken kindly by wine connoisseurs.[^wine]</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bordeaux &lt;-<span class="st"> </span>datums<span class="op">::</span>bordeaux <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lprice =</span> <span class="kw">log</span>(price <span class="op">/</span><span class="st"> </span><span class="dv">100</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(price))</code></pre></div>
<p>The data contains 27 prices of Bordeaux wines sold at auction in New York in 1993 for vintages from 1952 to 1980; the years 1952 and 1954 were excluded because they were rarely sold. Prices are measured as an index where 100 is the price of the 1961.</p>
<p>The dataset also includes three predictors of the price of each vintage:</p>
<ul>
<li><code>time_sv</code>: Time since the vintage, where 0 is 1983.</li>
<li><code>wrain</code>: Winter (October–March) rain</li>
<li><code>hrain</code>: Harvest (August–September) rain</li>
<li><code>degrees</code>: Average temperature in degrees centigrade from April to September in the vintage year.</li>
</ul>
<p>The first variable to consider is the age of the vintage and the price:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="kw">filter</span>(bordeaux, <span class="op">!</span><span class="kw">is.na</span>(price), <span class="op">!</span><span class="kw">is.na</span>(vint)),
       <span class="kw">aes</span>(<span class="dt">y =</span> <span class="kw">log</span>(price), <span class="dt">x =</span> vint)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_rug</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)</code></pre></div>
<p><img src="cross-validation_files/figure-html/unnamed-chunk-4-1.svg" width="672" /></p>
<p><span class="citation">Ashenfelter, Ashmore, and Lalonde (<a href="#ref-AshenfelterAshemoreLalonde1995a">1995</a>)</span> run two models. All models were estimated using OLS with log-price as the outcome variable. The predictors in the models were:</p>
<ol style="list-style-type: decimal">
<li>vintage age</li>
<li>vintage age, winter rain, harvest rain</li>
</ol>
<p>We will start by considering these models. Since we are running several models, we’ll define the model formulas in a list</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mods_f &lt;-<span class="st"> </span><span class="kw">list</span>(lprice <span class="op">~</span><span class="st"> </span>time_sv,
               lprice <span class="op">~</span><span class="st"> </span>time_sv <span class="op">+</span><span class="st"> </span>wrain <span class="op">+</span><span class="st"> </span>hrain <span class="op">+</span><span class="st"> </span>degrees)</code></pre></div>
<p>Run each model and store the results in a data frame as list column of <code>lm</code> objects:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mods_res &lt;-<span class="st"> </span><span class="kw">tibble</span>(
  <span class="dt">model =</span> <span class="kw">seq_along</span>(mods_f),
  <span class="dt">formula =</span> <span class="kw">map_chr</span>(mods_f, deparse),
  <span class="dt">mod =</span> <span class="kw">map</span>(mods_f, <span class="op">~</span><span class="st"> </span><span class="kw">lm</span>(.x, <span class="dt">data =</span> bordeaux))
)
mods_res</code></pre></div>
<pre><code>## # A tibble: 2 x 3
##   model formula                                    mod     
##   &lt;int&gt; &lt;chr&gt;                                      &lt;list&gt;  
## 1     1 lprice ~ time_sv                           &lt;S3: lm&gt;
## 2     2 lprice ~ time_sv + wrain + hrain + degrees &lt;S3: lm&gt;</code></pre>
<p>Now that we have these models, extract the coefficients into a data frame with the <strong>broom</strong> function <code>tidy</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mods_coefs &lt;-<span class="st"> </span>mods_res <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># Add column with the results of tidy for each model</span>
<span class="st">  </span><span class="co"># conf.int = TRUE adds confidence intervals to the data</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">tidy =</span> <span class="kw">map</span>(mod, tidy, <span class="dt">conf.int =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># use unnest() to expand the data frame to one row for each row in the tidy</span>
<span class="st">  </span><span class="co"># elements</span>
<span class="st">  </span><span class="kw">unnest</span>(tidy, <span class="dt">.drop =</span> <span class="ot">TRUE</span>)
<span class="kw">glimpse</span>(mods_coefs)</code></pre></div>
<pre><code>## Observations: 7
## Variables: 9
## $ model     &lt;int&gt; 1, 1, 2, 2, 2, 2, 2
## $ formula   &lt;chr&gt; &quot;lprice ~ time_sv&quot;, &quot;lprice ~ time_sv&quot;, &quot;lprice ~ ti...
## $ term      &lt;chr&gt; &quot;(Intercept)&quot;, &quot;time_sv&quot;, &quot;(Intercept)&quot;, &quot;time_sv&quot;, ...
## $ estimate  &lt;dbl&gt; -2.025199170, 0.035429560, -12.145333577, 0.02384741...
## $ std.error &lt;dbl&gt; 0.2472286519, 0.0136624941, 1.6881026571, 0.00716671...
## $ statistic &lt;dbl&gt; -8.191604, 2.593199, -7.194665, 3.327521, 2.420525, ...
## $ p.value   &lt;dbl&gt; 1.522111e-08, 1.566635e-02, 3.278791e-07, 3.055739e-...
## $ conf.low  &lt;dbl&gt; -2.534376e+00, 7.291126e-03, -1.564624e+01, 8.984546...
## $ conf.high &lt;dbl&gt; -1.516022230, 0.063567993, -8.644422940, 0.038710280...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">walk</span>(mods_res<span class="op">$</span>mod, <span class="op">~</span><span class="st"> </span><span class="kw">print</span>(<span class="kw">summary</span>(.x)))</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = .x, data = bordeaux)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -0.8545 -0.4788 -0.0718  0.4562  1.2457 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -2.02520    0.24723  -8.192 1.52e-08 ***
## time_sv      0.03543    0.01366   2.593   0.0157 *  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.5745 on 25 degrees of freedom
## Multiple R-squared:  0.212,  Adjusted R-squared:  0.1804 
## F-statistic: 6.725 on 1 and 25 DF,  p-value: 0.01567
## 
## 
## Call:
## lm(formula = .x, data = bordeaux)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.46027 -0.23864  0.01347  0.18600  0.53446 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -1.215e+01  1.688e+00  -7.195 3.28e-07 ***
## time_sv      2.385e-02  7.167e-03   3.328  0.00306 ** 
## wrain        1.167e-03  4.820e-04   2.421  0.02420 *  
## hrain       -3.861e-03  8.075e-04  -4.781 8.97e-05 ***
## degrees      6.164e-01  9.518e-02   6.476 1.63e-06 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.2865 on 22 degrees of freedom
## Multiple R-squared:  0.8275, Adjusted R-squared:  0.7962 
## F-statistic: 26.39 on 4 and 22 DF,  p-value: 4.058e-08</code></pre>
<p>Likewise, extract model statistics such as, <span class="math inline">\(R^2\)</span>, adjusted <span class="math inline">\(R^2\)</span>, and <span class="math inline">\(\hat{\sigma}\)</span>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mods_glance &lt;-
<span class="st">  </span><span class="kw">mutate</span>(mods_res, <span class="dt">.x =</span> <span class="kw">map</span>(mod, glance)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">unnest</span>(.x, <span class="dt">.drop =</span> <span class="ot">TRUE</span>)
mods_glance <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(formula, r.squared, adj.r.squared, sigma)</code></pre></div>
<pre><code>## # A tibble: 2 x 4
##   formula                                    r.squared adj.r.squared sigma
##   &lt;chr&gt;                                          &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;
## 1 lprice ~ time_sv                               0.212         0.180 0.574
## 2 lprice ~ time_sv + wrain + hrain + degrees     0.828         0.796 0.287</code></pre>
</div>
<div id="cross-validation-1" class="section level2">
<h2><span class="header-section-number">7.2</span> Cross Validation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">k &lt;-<span class="st"> </span><span class="dv">20</span>
f &lt;-<span class="st"> </span><span class="kw">map</span>(<span class="kw">seq_len</span>(k),
         <span class="op">~</span><span class="st"> </span><span class="kw">as.formula</span>(<span class="kw">str_c</span>(<span class="st">&quot;lprice ~ poly(time_sv, &quot;</span>, .x, <span class="st">&quot;)&quot;</span>)))
<span class="kw">names</span>(f) &lt;-<span class="st"> </span><span class="kw">seq_len</span>(k)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mods_overfit &lt;-<span class="st"> </span><span class="kw">map</span>(f, <span class="op">~</span><span class="st"> </span><span class="kw">lm</span>(.x, <span class="dt">data =</span> bordeaux))
fits &lt;-<span class="st"> </span><span class="kw">map_df</span>(mods_overfit, glance, <span class="dt">.id =</span> <span class="st">&quot;.id&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fits <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(.id, r.squared, adj.r.squared, df.residual) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">gather</span>(stat, value, <span class="op">-</span>.id) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">.id =</span> <span class="kw">as.integer</span>(.id)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> .id, <span class="dt">y =</span> value)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>stat, <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>)</code></pre></div>
<p><img src="cross-validation_files/figure-html/unnamed-chunk-12-1.svg" width="672" /></p>
<p>The larger the polynomial, the more wiggly the line.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;modelr&quot;</span>)
<span class="kw">invoke</span>(gather_predictions, <span class="dt">.x =</span> <span class="kw">c</span>(<span class="kw">list</span>(<span class="dt">data =</span> bordeaux), mods_overfit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> vint)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> lprice)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> pred, <span class="dt">group =</span> model, <span class="dt">colour =</span> <span class="kw">as.numeric</span>(model)))</code></pre></div>
<p><img src="cross-validation_files/figure-html/unnamed-chunk-13-1.svg" width="672" /> Intuitively it seems that as we increase the flexibility of the model by increasing the number of variables the model is overfitting the data, but what does it actually mean to overfit? If we use <span class="math inline">\(R^2\)</span> as the “measure of fit”, more variables always leads to better fit. Adjusted <span class="math inline">\(R^2\)</span> does not increase, because the decrease in errors is offset by the increase in the degrees of freedom. However, there is little justification for the specific formula of <span class="math inline">\(R^2\)</span>.</p>
<p>The problem with over-fitting is that the model starts to fit peculiarities of the sample (errors) rather than the true model. Since we never know the true model, all we can check is if the model predicts new data.</p>
</div>
<div id="out-of-sample-error" class="section level2">
<h2><span class="header-section-number">7.3</span> Out-of-Sample Error</h2>
<p>To compare predictive models, we want to compare how well they predicts (duh). This means estimating how well it will work on new data. The problem with this is that new data is just that, …, new.</p>
<p>The trick is to reuse the sample data to get an estimate of how well the model will work on new data. This is done by fitting the model on a subset of the data, and predicting another subset of the data which was not used to fit the model; often this is done repeatedly. There are a variety of ways to do this, depending on the nature of the data and the predictive task. However, they all implicitly assume that the sample of data that was used to fit the model is representative of future data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">many_mods &lt;-<span class="st"> </span><span class="kw">list</span>(
  lprice <span class="op">~</span><span class="st"> </span>time_sv,
  lprice <span class="op">~</span><span class="st"> </span>wrain,
  lprice <span class="op">~</span><span class="st"> </span>hrain,
  lprice <span class="op">~</span><span class="st"> </span>degrees,
  lprice <span class="op">~</span><span class="st"> </span>wrain <span class="op">+</span><span class="st"> </span>hrain <span class="op">+</span><span class="st"> </span>degrees,
  lprice <span class="op">~</span><span class="st"> </span>time_sv <span class="op">+</span><span class="st"> </span>wrain <span class="op">+</span><span class="st"> </span>hrain <span class="op">+</span><span class="st"> </span>degrees,
  lprice <span class="op">~</span><span class="st"> </span>time_sv <span class="op">+</span><span class="st"> </span>wrain <span class="op">*</span><span class="st"> </span>hrain <span class="op">*</span><span class="st"> </span>degrees,
  lprice <span class="op">~</span><span class="st"> </span>time_sv <span class="op">*</span><span class="st"> </span>(wrain <span class="op">+</span><span class="st"> </span>hrain <span class="op">+</span><span class="st"> </span>degrees),
  lprice <span class="op">~</span><span class="st"> </span>time_sv <span class="op">*</span><span class="st"> </span>wrain <span class="op">*</span><span class="st"> </span>hrain <span class="op">*</span><span class="st"> </span>degrees
)</code></pre></div>
<div id="held-out-data" class="section level3">
<h3><span class="header-section-number">7.3.1</span> Held-out data</h3>
<p>A common rule of thumb is to use 70% of the data for training, and 30% of the data for testing.</p>
<p>In this case, let’s partition the data to use the first 70% of the observations as training data, and the remaining 30% of the data as testing.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n_test &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="fl">0.3</span> <span class="op">*</span><span class="st"> </span><span class="kw">nrow</span>(bordeaux))
n_train &lt;-<span class="st"> </span><span class="kw">nrow</span>(bordeaux) <span class="op">-</span><span class="st"> </span>n_test

mod_train &lt;-<span class="st"> </span><span class="kw">lm</span>(lprice <span class="op">~</span><span class="st"> </span>time_sv <span class="op">+</span><span class="st"> </span>wrain <span class="op">+</span><span class="st"> </span>hrain <span class="op">+</span><span class="st"> </span>degrees,
                <span class="dt">data =</span> <span class="kw">head</span>(bordeaux, n_train))
mod_train</code></pre></div>
<pre><code>## 
## Call:
## lm(formula = lprice ~ time_sv + wrain + hrain + degrees, data = head(bordeaux, 
##     n_train))
## 
## Coefficients:
## (Intercept)      time_sv        wrain        hrain      degrees  
##  -1.080e+01    1.999e-02    9.712e-04   -4.461e-03    5.533e-01</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># in-sample RMSE</span>
<span class="kw">sqrt</span>(<span class="kw">mean</span>(mod_train<span class="op">$</span>residuals <span class="op">^</span><span class="st"> </span><span class="dv">2</span>))</code></pre></div>
<pre><code>## [1] 0.2280059</code></pre>
<p>The out-of-sample RMSE is higher than the in-sample RMSE.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">outsample &lt;-<span class="st"> </span><span class="kw">augment</span>(mod_train, <span class="dt">newdata =</span> <span class="kw">tail</span>(bordeaux, n_test))
<span class="kw">sqrt</span>(<span class="kw">mean</span>( (outsample<span class="op">$</span>lprice <span class="op">-</span><span class="st"> </span>outsample<span class="op">$</span>.fitted) <span class="op">^</span><span class="st"> </span><span class="dv">2</span>))</code></pre></div>
<pre><code>## [1] 0.351573</code></pre>
<p>This is common, but not necessarily the case. But note that this value is highly dependent on the subset of data used for testing. In some sense, we may choose as model that “overfits” the testing data.</p>
</div>
<div id="k-fold-cross-validation" class="section level3">
<h3><span class="header-section-number">7.3.2</span> <span class="math inline">\(k\)</span>-fold Cross-validation</h3>
<p>A more robust approach is to repeat this training/testing split multiple times.</p>
<p>The most common approach is to to partition the data into k-folds, and use each fold once as the testing subset, where the model is fit on the other <span class="math inline">\(k - 1\)</span> folds.</p>
<p>A common rule of thumb is to use 5 to 10 folds.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cv &lt;-<span class="st"> </span>modelr<span class="op">::</span><span class="kw">crossv_kfold</span>(bordeaux, <span class="dt">k =</span> <span class="dv">10</span>)

cv_rmse &lt;-<span class="st"> </span><span class="cf">function</span>(f, cv) {
  fits &lt;-<span class="st"> </span><span class="kw">map</span>(cv<span class="op">$</span>train, <span class="op">~</span><span class="st"> </span><span class="kw">lm</span>(f, <span class="dt">data =</span> .x, <span class="dt">model =</span> <span class="ot">FALSE</span>))
}</code></pre></div>
<!-- TODO: plot of observations included in testing and training folds 

TODO: plot cross validation results

TODO: Do model comparison

-->
</div>
<div id="leave-one-out-cross-validation" class="section level3">
<h3><span class="header-section-number">7.3.3</span> Leave-one-Out Cross-Validation</h3>
<p>Leave-one-out cross validation estimates is a <span class="math inline">\(k\)</span>-fold cross-validation with folds equal to the number of observations. The model is fit <span class="math inline">\(n\)</span> times, leaving training the model on <span class="math inline">\(n - 1\)</span> observations and predicted the remaining observation.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cv &lt;-<span class="st"> </span>modelr<span class="op">::</span><span class="kw">crossv_kfold</span>(bordeaux, <span class="dt">k =</span> <span class="kw">nrow</span>(bordeaux))</code></pre></div>
</div>
</div>
<div id="approximations" class="section level2">
<h2><span class="header-section-number">7.4</span> Approximations</h2>
<p>For some models, notably linear regression, analytical approximations to the expected out of sample error can be made. Each of these approximations will make some slightly different assumptions to plug in some unknown values.</p>
<p>In linear regression, the LOO-CV MSE can be calculated analytically, and without simulation. It is <span class="citation">(James et al. <a href="#ref-JamesWittenHastieEtAl2013a">2013</a>, 180)</span>: <span class="math display">\[
\text{LOO-CV} = \frac{1}{n} \sum_{i = 1}^n {\left(\frac{y_i - \hat{y}_i}{1 - h_i} \right)}^2 = \frac{1}{n} \sum_{i = 1}^n {\left(\frac{\hat{\epsilon}_i}{1 - h_i} \right)}^2 = \frac{1}{n} \times \text{PRESS}
\]</span> where PRESS is the predictive residual sum of squares, and <span class="math inline">\(h_i\)</span> is the <em>hat-value</em> of observation <span class="math inline">\(i\)</span> <span class="citation">(Fox <a href="#ref-Fox2016a">2016</a>, 270, 289)</span>, <span class="math display">\[
h_i = \Mat{X}(\Mat{X}&#39; \Mat{X})^{-1} \Mat{X}&#39;
\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">loocv &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
  <span class="kw">mean</span>( (<span class="kw">residuals</span>(x) <span class="op">/</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">hatvalues</span>(x))) <span class="op">^</span><span class="st"> </span><span class="dv">2</span>)
}</code></pre></div>
<p>An alternative approximation of the expected out-of-sample error is the generalized cross-validation criterion (GCV) is <span class="citation">(Fox <a href="#ref-Fox2016a">2016</a>)</span>, <span class="math display">\[
\text{GCV} = \frac{n \times RSS}{df_{res}^2} = \frac{n \sum \hat{\epsilon}^2}{(n - k - 1)^2}
\]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gcv &lt;-<span class="st"> </span><span class="cf">function</span>(x) {
  err &lt;-<span class="st"> </span><span class="kw">residuals</span>(x)
  rss &lt;-<span class="st"> </span><span class="kw">sum</span>(err <span class="op">^</span><span class="st"> </span><span class="dv">2</span>)
  <span class="kw">length</span>(err) <span class="op">*</span><span class="st"> </span>rss <span class="op">/</span><span class="st"> </span>(x[[<span class="st">&quot;df.residual&quot;</span>]] <span class="op">^</span><span class="st"> </span><span class="dv">2</span>)
}</code></pre></div>
<p>Other measures that are also equivalent to some form of an estimate of the out-of-sample error are the <a href="https://en.wikipedia.org/wiki/Akaike_information_criterion">AIC</a> and <a href="https://en.wikipedia.org/wiki/Bayesian_information_criterion">BIC</a>.</p>
</div>
<div id="references-2" class="section level2">
<h2><span class="header-section-number">7.5</span> References</h2>
<ul>
<li><a href="https://tomhopper.me/2014/05/16/can-we-do-better-than-r-squared/" class="uri">https://tomhopper.me/2014/05/16/can-we-do-better-than-r-squared/</a></li>
<li><a href="http://andrewgelman.com/2007/08/29/rsquared_useful/" class="uri">http://andrewgelman.com/2007/08/29/rsquared_useful/</a></li>
</ul>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-AshenfelterAshemoreLalonde1995a">
<p>Ashenfelter, Orley, David Ashmore, and Robert Lalonde. 1995. “Bordeaux Wine Vintage Quality and Weather.” <em>Chance</em> 8 (4). doi:<a href="https://doi.org/10.1080/09332480.1995.10542468">10.1080/09332480.1995.10542468</a>.</p>
</div>
<div id="ref-JamesWittenHastieEtAl2013a">
<p>James, Gareth, Daniela Witten, Trevor Hastie, and Robert Tibshirani. 2013. <em>An Introduction to Statistical Learning with Applications in R</em>. 6th ed. Springer.</p>
</div>
<div id="ref-Fox2016a">
<p>Fox, John. 2016. <em>Applied Regression Analysis &amp; Generalized Linear Models</em>. 3rd ed. Sage.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="prediction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="regularization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jrnold/intro-method-notes/edit/master/cross-validation.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
