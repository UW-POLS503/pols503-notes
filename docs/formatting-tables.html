<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Analysis Notes</title>
  <meta name="description" content="These are notes associated with the course, POLS/CS&amp;SS 503: Advanced Quantitative Political Methodology at the University of Washington.">
  <meta name="generator" content="bookdown 0.7.7 and GitBook 2.6.7">

  <meta property="og:title" content="Data Analysis Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are notes associated with the course, POLS/CS&amp;SS 503: Advanced Quantitative Political Methodology at the University of Washington." />
  <meta name="github-repo" content="jrnold/intro-methods-notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Analysis Notes" />
  
  <meta name="twitter:description" content="These are notes associated with the course, POLS/CS&amp;SS 503: Advanced Quantitative Political Methodology at the University of Washington." />
  

<meta name="author" content="Jeffrey B. Arnold">


<meta name="date" content="2018-04-20">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="regularization.html">
<link rel="next" href="reproducible-research.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro Method Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="part"><span><b>I Exploratory Data Analysis</b></span></li>
<li class="part"><span><b>II Programming</b></span></li>
<li class="part"><span><b>III Linear Regression</b></span></li>
<li class="chapter" data-level="2" data-path="regression-anatomy.html"><a href="regression-anatomy.html"><i class="fa fa-check"></i><b>2</b> Regression Anatomy</a><ul>
<li class="chapter" data-level="2.1" data-path="regression-anatomy.html"><a href="regression-anatomy.html#example"><i class="fa fa-check"></i><b>2.1</b> Example</a></li>
<li class="chapter" data-level="2.2" data-path="regression-anatomy.html"><a href="regression-anatomy.html#variations"><i class="fa fa-check"></i><b>2.2</b> Variations</a></li>
<li class="chapter" data-level="2.3" data-path="regression-anatomy.html"><a href="regression-anatomy.html#questions"><i class="fa fa-check"></i><b>2.3</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html"><i class="fa fa-check"></i><b>3</b> OLS in Matrix Form</a><ul>
<li class="chapter" data-level="" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#setup"><i class="fa fa-check"></i>Setup</a></li>
<li class="chapter" data-level="3.1" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#purpose"><i class="fa fa-check"></i><b>3.1</b> Purpose</a></li>
<li class="chapter" data-level="3.2" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrix-algebra-review"><i class="fa fa-check"></i><b>3.2</b> Matrix Algebra Review</a><ul>
<li class="chapter" data-level="3.2.1" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#vectors"><i class="fa fa-check"></i><b>3.2.1</b> Vectors</a></li>
<li class="chapter" data-level="3.2.2" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrices"><i class="fa fa-check"></i><b>3.2.2</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrix-operations"><i class="fa fa-check"></i><b>3.3</b> Matrix Operations</a><ul>
<li class="chapter" data-level="3.3.1" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#transpose"><i class="fa fa-check"></i><b>3.3.1</b> Transpose</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrices-as-vectors"><i class="fa fa-check"></i><b>3.4</b> Matrices as vectors</a></li>
<li class="chapter" data-level="3.5" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#special-matrices"><i class="fa fa-check"></i><b>3.5</b> Special matrices</a></li>
<li class="chapter" data-level="3.6" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#multiple-linear-regression-in-matrix-form"><i class="fa fa-check"></i><b>3.6</b> Multiple linear regression in matrix form</a></li>
<li class="chapter" data-level="3.7" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#residuals"><i class="fa fa-check"></i><b>3.7</b> Residuals</a></li>
<li class="chapter" data-level="3.8" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#scalar-inverses"><i class="fa fa-check"></i><b>3.8</b> Scalar inverses</a></li>
<li class="chapter" data-level="3.9" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#matrix-inverses"><i class="fa fa-check"></i><b>3.9</b> Matrix Inverses</a></li>
<li class="chapter" data-level="3.10" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#ols-estimator"><i class="fa fa-check"></i><b>3.10</b> OLS Estimator</a></li>
<li class="chapter" data-level="3.11" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#implications-of-ols"><i class="fa fa-check"></i><b>3.11</b> Implications of OLS</a><ul>
<li class="chapter" data-level="3.11.1" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#ols-in-matrix-form-1"><i class="fa fa-check"></i><b>3.11.1</b> OLS in Matrix Form</a></li>
</ul></li>
<li class="chapter" data-level="3.12" data-path="ols-in-matrix-form.html"><a href="ols-in-matrix-form.html#covariancevariance-interpretation-of-ols"><i class="fa fa-check"></i><b>3.12</b> Covariance/variance interpretation of OLS</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html"><i class="fa fa-check"></i><b>4</b> collinearity and Multicollinearity</a><ul>
<li class="chapter" data-level="4.1" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#perfect-collinearity"><i class="fa fa-check"></i><b>4.1</b> (Perfect) collinearity</a></li>
<li class="chapter" data-level="4.2" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#what-to-do-about-it"><i class="fa fa-check"></i><b>4.2</b> What to do about it?</a></li>
<li class="chapter" data-level="4.3" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#multicollinearity"><i class="fa fa-check"></i><b>4.3</b> Multicollinearity</a></li>
<li class="chapter" data-level="4.4" data-path="collinearity-and-multicollinearity.html"><a href="collinearity-and-multicollinearity.html#what-do-do-about-it"><i class="fa fa-check"></i><b>4.4</b> What do do about it?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bootstrapping.html"><a href="bootstrapping.html"><i class="fa fa-check"></i><b>5</b> Bootstrapping</a><ul>
<li class="chapter" data-level="5.1" data-path="bootstrapping.html"><a href="bootstrapping.html#non-parametric-bootstrap"><i class="fa fa-check"></i><b>5.1</b> Non-parametric bootstrap</a></li>
<li class="chapter" data-level="5.2" data-path="bootstrapping.html"><a href="bootstrapping.html#standard-errors"><i class="fa fa-check"></i><b>5.2</b> Standard Errors</a></li>
<li class="chapter" data-level="5.3" data-path="bootstrapping.html"><a href="bootstrapping.html#confidence-intervals"><i class="fa fa-check"></i><b>5.3</b> Confidence Intervals</a></li>
<li class="chapter" data-level="5.4" data-path="bootstrapping.html"><a href="bootstrapping.html#alternative-methods"><i class="fa fa-check"></i><b>5.4</b> Alternative methods</a><ul>
<li class="chapter" data-level="5.4.1" data-path="bootstrapping.html"><a href="bootstrapping.html#parametric-bootstrap"><i class="fa fa-check"></i><b>5.4.1</b> Parametric Bootstrap</a></li>
<li class="chapter" data-level="5.4.2" data-path="bootstrapping.html"><a href="bootstrapping.html#clustered-bootstrap"><i class="fa fa-check"></i><b>5.4.2</b> Clustered bootstrap</a></li>
<li class="chapter" data-level="5.4.3" data-path="bootstrapping.html"><a href="bootstrapping.html#time-series-bootstrap"><i class="fa fa-check"></i><b>5.4.3</b> Time series bootstrap</a></li>
<li class="chapter" data-level="5.4.4" data-path="bootstrapping.html"><a href="bootstrapping.html#how-to-sample"><i class="fa fa-check"></i><b>5.4.4</b> How to sample?</a></li>
<li class="chapter" data-level="5.4.5" data-path="bootstrapping.html"><a href="bootstrapping.html#caveats"><i class="fa fa-check"></i><b>5.4.5</b> Caveats</a></li>
<li class="chapter" data-level="5.4.6" data-path="bootstrapping.html"><a href="bootstrapping.html#why-use-bootstrapping"><i class="fa fa-check"></i><b>5.4.6</b> Why use bootstrapping?</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="bootstrapping.html"><a href="bootstrapping.html#bagging"><i class="fa fa-check"></i><b>5.5</b> Bagging</a></li>
<li class="chapter" data-level="5.6" data-path="bootstrapping.html"><a href="bootstrapping.html#hypothesis-testing"><i class="fa fa-check"></i><b>5.6</b> Hypothesis Testing</a></li>
<li class="chapter" data-level="5.7" data-path="bootstrapping.html"><a href="bootstrapping.html#how-many-samples"><i class="fa fa-check"></i><b>5.7</b> How many samples?</a></li>
<li class="chapter" data-level="5.8" data-path="bootstrapping.html"><a href="bootstrapping.html#references"><i class="fa fa-check"></i><b>5.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="prediction.html"><a href="prediction.html"><i class="fa fa-check"></i><b>6</b> Prediction</a><ul>
<li class="chapter" data-level="" data-path="prediction.html"><a href="prediction.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="6.1" data-path="prediction.html"><a href="prediction.html#prediction-questions-vs.causal-questions"><i class="fa fa-check"></i><b>6.1</b> Prediction Questions vs. Causal Questions</a></li>
<li class="chapter" data-level="6.2" data-path="prediction.html"><a href="prediction.html#why-is-prediction-important"><i class="fa fa-check"></i><b>6.2</b> Why is prediction important?</a></li>
<li class="chapter" data-level="6.3" data-path="prediction.html"><a href="prediction.html#many-problems-are-prediction-problems"><i class="fa fa-check"></i><b>6.3</b> Many problems are prediction problems</a><ul>
<li class="chapter" data-level="6.3.1" data-path="prediction.html"><a href="prediction.html#counterfactuals"><i class="fa fa-check"></i><b>6.3.1</b> Counterfactuals</a></li>
<li class="chapter" data-level="6.3.2" data-path="prediction.html"><a href="prediction.html#controls"><i class="fa fa-check"></i><b>6.3.2</b> Controls</a></li>
<li class="chapter" data-level="6.3.3" data-path="prediction.html"><a href="prediction.html#what-does-overfitting-mean"><i class="fa fa-check"></i><b>6.3.3</b> What does overfitting mean</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="prediction.html"><a href="prediction.html#prediction-vs.explanation"><i class="fa fa-check"></i><b>6.4</b> Prediction vs. Explanation</a></li>
<li class="chapter" data-level="6.5" data-path="prediction.html"><a href="prediction.html#bias-variance-tradeoff"><i class="fa fa-check"></i><b>6.5</b> Bias-Variance Tradeoff</a><ul>
<li class="chapter" data-level="6.5.1" data-path="prediction.html"><a href="prediction.html#example-1"><i class="fa fa-check"></i><b>6.5.1</b> Example</a></li>
<li class="chapter" data-level="6.5.2" data-path="prediction.html"><a href="prediction.html#overview"><i class="fa fa-check"></i><b>6.5.2</b> Overview</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="prediction.html"><a href="prediction.html#prediction-policy-problems"><i class="fa fa-check"></i><b>6.6</b> Prediction policy problems</a><ul>
<li class="chapter" data-level="6.6.1" data-path="prediction.html"><a href="prediction.html#references-1"><i class="fa fa-check"></i><b>6.6.1</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="cross-validation.html"><a href="cross-validation.html"><i class="fa fa-check"></i><b>7</b> Cross-Validation</a><ul>
<li class="chapter" data-level="" data-path="cross-validation.html"><a href="cross-validation.html#prerequisites-1"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="7.1" data-path="cross-validation.html"><a href="cross-validation.html#example-predicting-bordeaux-wine"><i class="fa fa-check"></i><b>7.1</b> Example: Predicting Bordeaux Wine</a></li>
<li class="chapter" data-level="7.2" data-path="cross-validation.html"><a href="cross-validation.html#cross-validation-1"><i class="fa fa-check"></i><b>7.2</b> Cross Validation</a></li>
<li class="chapter" data-level="7.3" data-path="cross-validation.html"><a href="cross-validation.html#out-of-sample-error"><i class="fa fa-check"></i><b>7.3</b> Out-of-Sample Error</a><ul>
<li class="chapter" data-level="7.3.1" data-path="cross-validation.html"><a href="cross-validation.html#held-out-data"><i class="fa fa-check"></i><b>7.3.1</b> Held-out data</a></li>
<li class="chapter" data-level="7.3.2" data-path="cross-validation.html"><a href="cross-validation.html#k-fold-cross-validation"><i class="fa fa-check"></i><b>7.3.2</b> k-fold Cross-validation</a></li>
<li class="chapter" data-level="7.3.3" data-path="cross-validation.html"><a href="cross-validation.html#leave-one-out-cross-validation"><i class="fa fa-check"></i><b>7.3.3</b> Leave-one-Out Cross-Validation</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="cross-validation.html"><a href="cross-validation.html#approximations"><i class="fa fa-check"></i><b>7.4</b> Approximations</a></li>
<li class="chapter" data-level="7.5" data-path="cross-validation.html"><a href="cross-validation.html#references-2"><i class="fa fa-check"></i><b>7.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="regularization.html"><a href="regularization.html"><i class="fa fa-check"></i><b>8</b> Regularization</a><ul>
<li class="chapter" data-level="8.1" data-path="regularization.html"><a href="regularization.html#ridge-regression"><i class="fa fa-check"></i><b>8.1</b> Ridge Regression</a></li>
<li class="chapter" data-level="8.2" data-path="regularization.html"><a href="regularization.html#regularization-for-causal-inference"><i class="fa fa-check"></i><b>8.2</b> Regularization for Causal Inference</a></li>
<li class="chapter" data-level="8.3" data-path="regularization.html"><a href="regularization.html#references-3"><i class="fa fa-check"></i><b>8.3</b> References</a></li>
</ul></li>
<li class="part"><span><b>IV Presentation</b></span></li>
<li class="chapter" data-level="9" data-path="formatting-tables.html"><a href="formatting-tables.html"><i class="fa fa-check"></i><b>9</b> Formatting Tables</a><ul>
<li class="chapter" data-level="9.1" data-path="formatting-tables.html"><a href="formatting-tables.html#overview-of-packages"><i class="fa fa-check"></i><b>9.1</b> Overview of Packages</a></li>
<li class="chapter" data-level="9.2" data-path="formatting-tables.html"><a href="formatting-tables.html#summary-statistic-table-example"><i class="fa fa-check"></i><b>9.2</b> Summary Statistic Table Example</a></li>
<li class="chapter" data-level="9.3" data-path="formatting-tables.html"><a href="formatting-tables.html#regression-table-example"><i class="fa fa-check"></i><b>9.3</b> Regression Table Example</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="reproducible-research.html"><a href="reproducible-research.html"><i class="fa fa-check"></i><b>10</b> Reproducible Research</a></li>
<li class="chapter" data-level="11" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html"><i class="fa fa-check"></i><b>11</b> Typesetting and Word Processing Programs</a><ul>
<li class="chapter" data-level="11.1" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#latex"><i class="fa fa-check"></i><b>11.1</b> LaTeX</a><ul>
<li class="chapter" data-level="11.1.1" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#learning-latex"><i class="fa fa-check"></i><b>11.1.1</b> Learning LaTeX</a></li>
<li class="chapter" data-level="11.1.2" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#using-latex"><i class="fa fa-check"></i><b>11.1.2</b> Using LaTeX</a></li>
<li class="chapter" data-level="11.1.3" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#latex-with-r"><i class="fa fa-check"></i><b>11.1.3</b> LaTeX with R</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#word"><i class="fa fa-check"></i><b>11.2</b> Word</a><ul>
<li class="chapter" data-level="11.2.1" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#general-advice"><i class="fa fa-check"></i><b>11.2.1</b> General Advice</a></li>
<li class="chapter" data-level="11.2.2" data-path="typesetting-and-word-processing-programs.html"><a href="typesetting-and-word-processing-programs.html#using-r-with-word"><i class="fa fa-check"></i><b>11.2.2</b> Using R with Word</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="writing-resources.html"><a href="writing-resources.html"><i class="fa fa-check"></i><b>12</b> Writing Resources</a><ul>
<li class="chapter" data-level="12.1" data-path="writing-resources.html"><a href="writing-resources.html#writing-and-organizing-papers"><i class="fa fa-check"></i><b>12.1</b> Writing and Organizing Papers</a></li>
<li class="chapter" data-level="12.2" data-path="writing-resources.html"><a href="writing-resources.html#finding-research-ideas"><i class="fa fa-check"></i><b>12.2</b> Finding Research Ideas</a></li>
<li class="chapter" data-level="12.3" data-path="writing-resources.html"><a href="writing-resources.html#replications"><i class="fa fa-check"></i><b>12.3</b> Replications</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="" data-path="references-4.html"><a href="references-4.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
\[
\DeclareMathOperator{\E}{E}
\DeclareMathOperator{\mean}{mean}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\Cor}{Cor}
\DeclareMathOperator{\Bias}{Bias}
\DeclareMathOperator{\MSE}{MSE}
\DeclareMathOperator{\RMSE}{RMSE}
\DeclareMathOperator{\sd}{sd}
\DeclareMathOperator{\se}{se}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

\newcommand{\Mat}[1]{\boldsymbol{#1}}
\newcommand{\Vec}[1]{\boldsymbol{#1}}
\newcommand{\T}{'}

\newcommand{\distr}[1]{\mathcal{#1}}
\newcommand{\dnorm}{\distr{N}}
\newcommand{\dmvnorm}[1]{\distr{N}_{#1}}
\newcommand{\dt}[1]{\distr{T}_{#1}}

\newcommand{\cia}{\perp\!\!\!\perp}
\DeclareMathOperator*{\plim}{plim}
\]
<div id="formatting-tables" class="section level1">
<h1><span class="header-section-number">Chapter 9</span> Formatting Tables</h1>
<div id="overview-of-packages" class="section level2">
<h2><span class="header-section-number">9.1</span> Overview of Packages</h2>
<p>R has multiple packages and functions for directly producing formatted tables
for LaTeX, HTML, and other output formats.
Given the</p>
<p>See the <a href="https://cran.r-project.org/web/views/ReproducibleResearch.html">Reproducible Research Task View</a> for an overview of various options.</p>
<ul>
<li><p><strong><a href="https://cran.r-project.org/package=xtable">xtable</a></strong> is a general purpose package for creating LaTeX, HTML,
or plain text tables in R.</p></li>
<li><p><strong><a href="https://cran.r-project.org/package=texreg">texreg</a></strong> is more specifically geared to regression tables. It also outputs results in LaTeX (<a href="https://www.rdocumentation.org/packages/texreg/topics/texreg">texreg</a>),
HTML (<a href="https://www.rdocumentation.org/packages/texreg/topics/htmlreg">texreg</a>), and plain text.</p></li>
</ul>
<p>The packages <strong><a href="https://cran.r-project.org/package=stargazer">stargazer</a></strong> and <strong><a href="https://cran.r-project.org/package=apsrtable">apsrtable</a></strong> are other popular packages for formatting regression output.
However, they are less-well maintained and have less functionality than <strong>texreg</strong>. For example, <strong>apsrtable</strong> hasn’t been updated since 2012, <strong>stargazer</strong> since 2015.</p>
<p>The <a href="https://cran.r-project.org/web/packages/texreg/vignettes/texreg.pdf">texreg vignette</a> is a good introduction to <strong>texreg</strong>, and also discusses the
These <a href="http://conjugateprior.org/2013/10/call-them-what-you-will/">blog</a> <a href="http://conjugateprior.org/2013/03/r-to-latex-packages-coverage/">posts</a> by Will Lowe cover many of the options.</p>
<p>Additionally, for simple tables, <strong><a href="https://cran.r-project.org/package=knitr">knitr</a></strong>, the package which provides the heavy lifting for R markdown, has a function <a href="https://www.rdocumentation.org/packages/knitr/topics/kable">knitr</a>.
<strong>knitr</strong> also has the ability to customize how R objects are printed with the <a href="https://cran.rstudio.com/web/packages/knitr/vignettes/knit_print.html">knit_print</a> function.</p>
<p>Other notable packages are:</p>
<ul>
<li><strong><a href="https://cran.r-project.org/package=pander">pander</a></strong> creates output in markdown for export to other formats.</li>
<li><strong><a href="https://cran.r-project.org/package=tables">tables</a></strong> uses a formula syntax to define tables</li>
<li><strong><a href="https://cran.r-project.org/package=ReportR">ReportR</a></strong> has the most complete support for creating Word documents, but is likely too much.</li>
</ul>
<p>For a political science perspective on why automating the research process is important see:</p>
<ul>
<li><p>Nicholas Eubank <a href="https://thepoliticalmethodologist.com/2016/06/06/embrace-your-fallibility-thoughts-on-code-integrity/">Embrace Your Fallibility: Thoughts on Code Integrity</a>, based on this <a href="https://doi.org/10.1017/S1049096516000196">article</a></p></li>
<li><p>Matthew Gentzkow Jesse M. Shapiro.<a href="http://web.stanford.edu/~gentzkow/research/CodeAndData.pdf">Code and Data for the Social Sciences:
A Practitioner’s Guide</a>. March 10, 2014.</p></li>
<li><p>Political Methodologist issue on <a href="http://www.jakebowers.org/PAPERS/tpm_v18_n2.pdf">Workflow Management</a></p></li>
</ul>
</div>
<div id="summary-statistic-table-example" class="section level2">
<h2><span class="header-section-number">9.2</span> Summary Statistic Table Example</h2>
<p>The <code>xtable</code> package has methods to convert many types of R objects to tables.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;gapminder&quot;</span>)

gapminder_summary &lt;-
<span class="st">  </span>gapminder <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># Keep numeric variables</span>
<span class="st">  </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># gather variables</span>
<span class="st">  </span><span class="kw">gather</span>(variable, value) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># Summarize by variable</span>
<span class="st">  </span><span class="kw">group_by</span>(variable) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># summarise all columns</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">sum</span>(<span class="op">!</span><span class="kw">is.na</span>(value)),
            <span class="st">`</span><span class="dt">Mean</span><span class="st">`</span> =<span class="st"> </span><span class="kw">mean</span>(value),
            <span class="st">`</span><span class="dt">Std. Dev.</span><span class="st">`</span> =<span class="st"> </span><span class="kw">sd</span>(value),
            <span class="st">`</span><span class="dt">Median</span><span class="st">`</span> =<span class="st"> </span><span class="kw">median</span>(value),
            <span class="st">`</span><span class="dt">Min.</span><span class="st">`</span> =<span class="st"> </span><span class="kw">min</span>(value),
            <span class="st">`</span><span class="dt">Max.</span><span class="st">`</span> =<span class="st"> </span><span class="kw">max</span>(value))
gapminder_summary</code></pre>
<pre><code>## # A tibble: 4 x 7
##   variable      n       Mean `Std. Dev.`    Median    Min.         Max.
##   &lt;chr&gt;     &lt;int&gt;      &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;        &lt;dbl&gt;
## 1 gdpPercap  1704     7215.       9857.     3532.    241.      113523. 
## 2 lifeExp    1704       59.5        12.9      60.7    23.6         82.6
## 3 pop        1704 29601212.  106157897.  7023596.  60011.  1318683096. 
## 4 year       1704     1980.         17.3    1980.   1952.        2007.</code></pre>
<p>Now that we have a data frame with the table we want, use <code>xtable</code> to create
it:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;xtable&quot;</span>)
foo &lt;-<span class="st"> </span><span class="kw">xtable</span>(gapminder_summary, <span class="dt">digits =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">print</span>(<span class="dt">type =</span> <span class="st">&quot;html&quot;</span>,
        <span class="dt">html.table.attributes =</span> <span class="st">&quot;&quot;</span>,
        <span class="dt">include.rownames =</span> <span class="ot">FALSE</span>,
        <span class="dt">format.args =</span> <span class="kw">list</span>(<span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>))</code></pre>
<!-- html table generated in R 3.4.4 by xtable 1.8-2 package -->
<!-- Sun Apr 15 14:00:02 2018 -->
<table>
<tr>
<th>
variable
</th>
<th>
n
</th>
<th>
Mean
</th>
<th>
Std. Dev.
</th>
<th>
Median
</th>
<th>
Min.
</th>
<th>
Max.
</th>
</tr>
<tr>
<td>
gdpPercap
</td>
<td align="right">
1,704
</td>
<td align="right">
7,215
</td>
<td align="right">
9,857
</td>
<td align="right">
3,532
</td>
<td align="right">
241
</td>
<td align="right">
113,523
</td>
</tr>
<tr>
<td>
lifeExp
</td>
<td align="right">
1,704
</td>
<td align="right">
59
</td>
<td align="right">
13
</td>
<td align="right">
61
</td>
<td align="right">
24
</td>
<td align="right">
83
</td>
</tr>
<tr>
<td>
pop
</td>
<td align="right">
1,704
</td>
<td align="right">
29,601,212
</td>
<td align="right">
106,157,897
</td>
<td align="right">
7,023,596
</td>
<td align="right">
60,011
</td>
<td align="right">
1,318,683,096
</td>
</tr>
<tr>
<td>
year
</td>
<td align="right">
1,704
</td>
<td align="right">
1,980
</td>
<td align="right">
17
</td>
<td align="right">
1,980
</td>
<td align="right">
1,952
</td>
<td align="right">
2,007
</td>
</tr>
</table>
<p>Note that there we two functions to get HTML. The function <code>xtable</code> creates
an <code>xtable</code> R object, and the function <a href="https://www.rdocumentation.org/packages/xtable/topics/print.xtable">xtable</a> (called as <code>print()</code>), which prints the <code>xtable</code> object as HTML (or LaTeX).
The default HTML does not look nice, and would need to be formatted with CSS.
If you are copy and pasting it into Word, you would do some post-processing cleanup anyways.</p>
<p>Another alternative is the <a href="https://www.rdocumentation.org/packages/knitr/topics/kable">knitr</a> function in the <strong><a href="https://cran.r-project.org/package=knitr">knitr</a></strong> package, which outputs R markdown tables.</p>
<pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">kable</span>(gapminder_summary)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="right">n</th>
<th align="right">Mean</th>
<th align="right">Std. Dev.</th>
<th align="right">Median</th>
<th align="right">Min.</th>
<th align="right">Max.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">gdpPercap</td>
<td align="right">1704</td>
<td align="right">7.215327e+03</td>
<td align="right">9.857455e+03</td>
<td align="right">3531.8470</td>
<td align="right">241.1659</td>
<td align="right">1.135231e+05</td>
</tr>
<tr class="even">
<td align="left">lifeExp</td>
<td align="right">1704</td>
<td align="right">5.947444e+01</td>
<td align="right">1.291711e+01</td>
<td align="right">60.7125</td>
<td align="right">23.5990</td>
<td align="right">8.260300e+01</td>
</tr>
<tr class="odd">
<td align="left">pop</td>
<td align="right">1704</td>
<td align="right">2.960121e+07</td>
<td align="right">1.061579e+08</td>
<td align="right">7023595.5000</td>
<td align="right">60011.0000</td>
<td align="right">1.318683e+09</td>
</tr>
<tr class="even">
<td align="left">year</td>
<td align="right">1704</td>
<td align="right">1.979500e+03</td>
<td align="right">1.726533e+01</td>
<td align="right">1979.5000</td>
<td align="right">1952.0000</td>
<td align="right">2.007000e+03</td>
</tr>
</tbody>
</table>
<p>This is useful for producing quick tables.</p>
<p>Finally, <a href="https://cran.r-project.org/web/packages/htmlTable/vignettes/tables.html">htmlTables</a> package unsurprisingly produces HTML tables.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;htmlTable&quot;</span>)
<span class="kw">htmlTable</span>(<span class="kw">txtRound</span>(gapminder_summary, <span class="dv">0</span>),
          <span class="dt">align =</span> <span class="st">&quot;lrrrr&quot;</span>)</code></pre>
<table class="gmisc_table" style="border-collapse: collapse; margin-top: 1em; margin-bottom: 1em;">
<thead>
<tr>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey;">
</th>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
variable
</th>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
n
</th>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Mean
</th>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Std. Dev.
</th>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Median
</th>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Min.
</th>
<th style="border-bottom: 1px solid grey; border-top: 2px solid grey; text-align: center;">
Max.
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">
1
</td>
<td style="text-align: left;">
gdpPercap
</td>
<td style="text-align: right;">
1704
</td>
<td style="text-align: right;">
7
</td>
<td style="text-align: right;">
10
</td>
<td style="text-align: right;">
3532
</td>
<td style="text-align: right;">
241
</td>
<td style="text-align: right;">
1
</td>
</tr>
<tr>
<td style="text-align: left;">
2
</td>
<td style="text-align: left;">
lifeExp
</td>
<td style="text-align: right;">
1704
</td>
<td style="text-align: right;">
6
</td>
<td style="text-align: right;">
1
</td>
<td style="text-align: right;">
61
</td>
<td style="text-align: right;">
24
</td>
<td style="text-align: right;">
8
</td>
</tr>
<tr>
<td style="text-align: left;">
3
</td>
<td style="text-align: left;">
pop
</td>
<td style="text-align: right;">
1704
</td>
<td style="text-align: right;">
3
</td>
<td style="text-align: right;">
1
</td>
<td style="text-align: right;">
7023596
</td>
<td style="text-align: right;">
60011
</td>
<td style="text-align: right;">
1
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid grey; text-align: left;">
4
</td>
<td style="border-bottom: 2px solid grey; text-align: left;">
year
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
1704
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
2
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
2
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
1980
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
1952
</td>
<td style="border-bottom: 2px solid grey; text-align: right;">
2
</td>
</tr>
</tbody>
</table>
<p>It has more features for producing HTML tables than <code>xtable</code>, but does not output LaTeX.</p>
</div>
<div id="regression-table-example" class="section level2">
<h2><span class="header-section-number">9.3</span> Regression Table Example</h2>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)
<span class="kw">library</span>(<span class="st">&quot;texreg&quot;</span>)</code></pre>
<p>We will run several regression models with the Duncan data</p>
<pre class="sourceCode r"><code class="sourceCode r">Prestige &lt;-<span class="st"> </span>car<span class="op">::</span>Prestige</code></pre>
<p>Since I’m running several regressions, I will save them to a list.
If you know that you will be creating multiple objects, and programming with them, always put them in a list.</p>
<p>First, create a list of the regression formulas,</p>
<pre class="sourceCode r"><code class="sourceCode r">formulae &lt;-<span class="st"> </span><span class="kw">list</span>(
  prestige <span class="op">~</span><span class="st"> </span>type,
  prestige <span class="op">~</span><span class="st"> </span>income,
  prestige <span class="op">~</span><span class="st"> </span>education,
  prestige <span class="op">~</span><span class="st"> </span>type <span class="op">+</span><span class="st"> </span>education <span class="op">+</span><span class="st"> </span>income
)</code></pre>
<p>Write a function to run a single model,
Now use <code>map</code> to run a regression with each of these formulae,
and save them to a list,</p>
<pre class="sourceCode r"><code class="sourceCode r">prestige_mods &lt;-<span class="st"> </span><span class="kw">map</span>(formulae, <span class="op">~</span><span class="st"> </span><span class="kw">lm</span>(.x, <span class="dt">data =</span> Prestige, <span class="dt">model =</span> <span class="ot">FALSE</span>))</code></pre>
<p>This is a list of <code>lm</code> objects,</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">map</span>(prestige_mods, class)</code></pre>
<pre><code>## [[1]]
## [1] &quot;lm&quot;
## 
## [[2]]
## [1] &quot;lm&quot;
## 
## [[3]]
## [1] &quot;lm&quot;
## 
## [[4]]
## [1] &quot;lm&quot;</code></pre>
<p>We can look at the first model,</p>
<pre class="sourceCode r"><code class="sourceCode r">prestige_mods[[<span class="dv">1</span>]]</code></pre>
<pre><code>## 
## Call:
## lm(formula = .x, data = Prestige, model = FALSE)
## 
## Coefficients:
## (Intercept)     typeprof       typewc  
##      35.527       32.321        6.716</code></pre>
<p>Now we can format the regression table in HTML using <code>htmlreg</code>.
The first argument of <code>htmlreg</code> is a list of models:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">htmlreg</span>(prestige_mods)</code></pre>
&lt;!DOCTYPE HTML PUBLIC “-//W3C//DTD HTML 4.01 Transitional//EN” “<a href="http://www.w3.org/TR/html4/loose.dtd" class="uri">http://www.w3.org/TR/html4/loose.dtd</a>”&gt;
<table cellspacing="0" align="center" style="border: none;">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 2</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 3</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 4</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Intercept)
</td>
<td style="padding-right: 12px; border: none;">
35.53<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
27.14<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
-10.73<sup style="vertical-align: 0px;">**</sup>
</td>
<td style="padding-right: 12px; border: none;">
-0.62
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(1.43)
</td>
<td style="padding-right: 12px; border: none;">
(2.27)
</td>
<td style="padding-right: 12px; border: none;">
(3.68)
</td>
<td style="padding-right: 12px; border: none;">
(5.23)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
typeprof
</td>
<td style="padding-right: 12px; border: none;">
32.32<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
6.04
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.23)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(3.87)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
typewc
</td>
<td style="padding-right: 12px; border: none;">
6.72<sup style="vertical-align: 0px;">**</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-2.74
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.44)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.51)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
income
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00<sup style="vertical-align: 0px;">***</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
education
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
5.36<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
3.67<sup style="vertical-align: 0px;">***</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.33)
</td>
<td style="padding-right: 12px; border: none;">
(0.64)
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.70
</td>
<td style="border-top: 1px solid black;">
0.51
</td>
<td style="border-top: 1px solid black;">
0.72
</td>
<td style="border-top: 1px solid black;">
0.83
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.69
</td>
<td style="padding-right: 12px; border: none;">
0.51
</td>
<td style="padding-right: 12px; border: none;">
0.72
</td>
<td style="padding-right: 12px; border: none;">
0.83
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Num. obs.
</td>
<td style="padding-right: 12px; border: none;">
98
</td>
<td style="padding-right: 12px; border: none;">
102
</td>
<td style="padding-right: 12px; border: none;">
102
</td>
<td style="padding-right: 12px; border: none;">
98
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
RMSE
</td>
<td style="border-bottom: 2px solid black;">
9.50
</td>
<td style="border-bottom: 2px solid black;">
12.09
</td>
<td style="border-bottom: 2px solid black;">
9.10
</td>
<td style="border-bottom: 2px solid black;">
7.09
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="6">
<span style="font-size:0.8em"><sup style="vertical-align: 0px;"><em><strong></sup>p &lt; 0.001, <sup style="vertical-align: 0px;"></strong></sup>p &lt; 0.01, <sup style="vertical-align: 0px;"></em></sup>p &lt; 0.05</span>
</td>
</tr>
</table>
<p>By default, <code>htmlreg()</code> prints out HTML, which is exactly what I want in an R markdown document.
To save the output to a file, specify a non-null <code>file</code> argument.
For example, to save the table to the file <code>prestige.html</code>,</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">htmlreg</span>(prestige_mods, <span class="dt">file =</span> <span class="st">&quot;prestige.html&quot;</span>)</code></pre>
<p>Since this function outputs HTML directly to the console, it can be hard to tell what’s going on.
If you want to preview the table in RStudio while working on it, this
snippet of code uses <strong><a href="https://cran.r-project.org/package=htmltools">htmltools</a></strong> package to do so:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;htmltools&quot;</span>)
<span class="kw">htmlreg</span>(prestige_mods) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">HTML</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">browsable</span>()</code></pre>
<p>The <code>htmlreg</code> function has many options to adjust the table formatting.
Below, I clean up the table.</p>
<ul>
<li><p>I remove stars using <code>stars = NULL</code>. It is a growing convention to avoid
the use of stars indicating significance in regression tables (see <em>AJPS</em> and <em>Political Analysis</em> guidelines).</p></li>
<li><p>The arguments <code>doctype</code>, <code>html.tag</code>, <code>head.tag</code>, <code>body.tag</code> control what
sort of HTML is created. Generally all these functions (whether LaTeX or
HTML output) have some arguments that determine whether it is creating a
standalone, complete document, or a fragment that will be copied into
another document.</p></li>
<li><p>The arguments <code>include.rsquared</code>, <code>include.adjrs</code>, and <code>include.nobs</code> are passed to the function <code>extract()</code> which determines what information the <code>texreg</code> package extracts from a model to put into the table. I get rid of <span class="math inline">\(R^2\)</span>, but keep adjusted <span class="math inline">\(R^2\)</span>, and the number of observations.</p></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;stringr&quot;</span>)
coefnames &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Professional&quot;</span>,
               <span class="st">&quot;Working Class&quot;</span>,
               <span class="st">&quot;Income&quot;</span>,
               <span class="st">&quot;Education&quot;</span>)
note &lt;-<span class="st"> &quot;OLS regressions with prestige as the response variable.&quot;</span>
<span class="kw">htmlreg</span>(prestige_mods, <span class="dt">stars =</span> <span class="ot">NULL</span>,
        <span class="dt">custom.model.names =</span> <span class="kw">str_c</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">seq_along</span>(prestige_mods), <span class="st">&quot;)&quot;</span>),
        <span class="dt">omit.coef =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">(Intercept</span><span class="ch">\\</span><span class="st">)&quot;</span>,
        <span class="dt">custom.coef.names =</span> coefnames,
        <span class="dt">custom.note =</span> <span class="kw">str_c</span>(<span class="st">&quot;Note: &quot;</span>, note),
        <span class="dt">caption.above =</span> <span class="ot">TRUE</span>,
        <span class="dt">caption =</span> <span class="st">&quot;Regressions of Occupational Prestige&quot;</span>,
        <span class="co"># better for markdown</span>
        <span class="dt">doctype =</span> <span class="ot">FALSE</span>,
        <span class="dt">html.tag =</span> <span class="ot">FALSE</span>,
        <span class="dt">head.tag =</span> <span class="ot">FALSE</span>,
        <span class="dt">body.tag =</span> <span class="ot">FALSE</span>,
        <span class="co"># passed to extract() method for &quot;lm&quot;</span>
        <span class="dt">include.adjr =</span> <span class="ot">TRUE</span>,
        <span class="dt">include.rsquared =</span> <span class="ot">FALSE</span>,
        <span class="dt">include.rmse =</span> <span class="ot">FALSE</span>,
        <span class="dt">include.nobs =</span> <span class="ot">TRUE</span>)</code></pre>
<table cellspacing="0" align="center" style="border: none;">
<caption align="top" style="margin-bottom:0.3em;">
Regressions of Occupational Prestige
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(1)</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(2)</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(3)</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(4)</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Professional
</td>
<td style="padding-right: 12px; border: none;">
32.32
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
6.04
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.23)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(3.87)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Working Class
</td>
<td style="padding-right: 12px; border: none;">
6.72
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-2.74
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.44)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.51)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Income
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Education
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
5.36
</td>
<td style="padding-right: 12px; border: none;">
3.67
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.33)
</td>
<td style="padding-right: 12px; border: none;">
(0.64)
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.69
</td>
<td style="border-top: 1px solid black;">
0.51
</td>
<td style="border-top: 1px solid black;">
0.72
</td>
<td style="border-top: 1px solid black;">
0.83
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
Num. obs.
</td>
<td style="border-bottom: 2px solid black;">
98
</td>
<td style="border-bottom: 2px solid black;">
102
</td>
<td style="border-bottom: 2px solid black;">
102
</td>
<td style="border-bottom: 2px solid black;">
98
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="6">
<span style="font-size:0.8em">Note: OLS regressions with prestige as the response variable.</span>
</td>
</tr>
</table>
<p>Once you find a set of options that are common across your tables, make a function so you do not need to retype them.</p>
<pre class="sourceCode r"><code class="sourceCode r">my_reg_table &lt;-<span class="st"> </span><span class="cf">function</span>(mods, ..., <span class="dt">note =</span> <span class="ot">NULL</span>) {
  <span class="kw">htmlreg</span>(mods,
          <span class="dt">stars =</span> <span class="ot">NULL</span>,
          <span class="dt">custom.note =</span> <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.null</span>(note)) <span class="kw">str_c</span>(<span class="st">&quot;Note: &quot;</span>, note) <span class="cf">else</span> <span class="ot">NULL</span>,
          <span class="dt">caption.above =</span> <span class="ot">TRUE</span>,
          <span class="co"># better for markdown</span>
          <span class="dt">doctype =</span> <span class="ot">FALSE</span>,
          <span class="dt">html.tag =</span> <span class="ot">FALSE</span>,
          <span class="dt">head.tag =</span> <span class="ot">FALSE</span>)
}
<span class="kw">my_reg_table</span>(prestige_mods,
            <span class="dt">custom.model.names =</span> <span class="kw">str_c</span>(<span class="st">&quot;(&quot;</span>, <span class="kw">seq_along</span>(prestige_mods), <span class="st">&quot;)&quot;</span>),
            <span class="dt">custom.coef.names =</span> coefnames,
            <span class="dt">note =</span> note,
            <span class="co"># put intercept at the bottom</span>
            <span class="dt">reorder.coef =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">1</span>),
            <span class="dt">caption =</span> <span class="st">&quot;Regressions of Occupational Prestige&quot;</span>)</code></pre>
<table cellspacing="0" align="center" style="border: none;">
<caption align="top" style="margin-bottom:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 2</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 3</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 4</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Intercept)
</td>
<td style="padding-right: 12px; border: none;">
35.53
</td>
<td style="padding-right: 12px; border: none;">
27.14
</td>
<td style="padding-right: 12px; border: none;">
-10.73
</td>
<td style="padding-right: 12px; border: none;">
-0.62
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(1.43)
</td>
<td style="padding-right: 12px; border: none;">
(2.27)
</td>
<td style="padding-right: 12px; border: none;">
(3.68)
</td>
<td style="padding-right: 12px; border: none;">
(5.23)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
typeprof
</td>
<td style="padding-right: 12px; border: none;">
32.32
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
6.04
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.23)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(3.87)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
typewc
</td>
<td style="padding-right: 12px; border: none;">
6.72
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-2.74
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.44)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.51)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
income
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
0.00
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.00)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
education
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
5.36
</td>
<td style="padding-right: 12px; border: none;">
3.67
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.33)
</td>
<td style="padding-right: 12px; border: none;">
(0.64)
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.70
</td>
<td style="border-top: 1px solid black;">
0.51
</td>
<td style="border-top: 1px solid black;">
0.72
</td>
<td style="border-top: 1px solid black;">
0.83
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.69
</td>
<td style="padding-right: 12px; border: none;">
0.51
</td>
<td style="padding-right: 12px; border: none;">
0.72
</td>
<td style="padding-right: 12px; border: none;">
0.83
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Num. obs.
</td>
<td style="padding-right: 12px; border: none;">
98
</td>
<td style="padding-right: 12px; border: none;">
102
</td>
<td style="padding-right: 12px; border: none;">
102
</td>
<td style="padding-right: 12px; border: none;">
98
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
RMSE
</td>
<td style="border-bottom: 2px solid black;">
9.50
</td>
<td style="border-bottom: 2px solid black;">
12.09
</td>
<td style="border-bottom: 2px solid black;">
9.10
</td>
<td style="border-bottom: 2px solid black;">
7.09
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="6">
<span style="font-size:0.8em">Note: OLS regressions with prestige as the response variable.</span>
</td>
</tr>
</table>
<p>Note that I didn’t include every option in <code>my_reg_table</code>, only those arguments that will be common across tables.
I use <code>...</code> to pass arguments to <code>htmlreg</code>.
Then when I call <code>my_reg_table</code> the only arguments are those specific to the
<em>content</em> of the table, not the formatting, making it easier to understand what each table is saying.</p>
<p>Of course, <code>texreg</code> also produces LaTeX output, with the function <a href="https://www.rdocumentation.org/packages/texreg/topics/texreg">texreg</a>.
Almost all the options are the same as <code>htmlreg</code>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="regularization.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reproducible-research.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jrnold/intro-method-notes/edit/master/tables-and-plots.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
